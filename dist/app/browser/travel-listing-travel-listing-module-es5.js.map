{"version":3,"sources":["webpack:///src/app/travel/listing/travel-listing.resolver.ts","webpack:///src/app/travel/listing/travel-listing.module.ts","webpack:///src/app/travel/listing/travel-listing.plain.resolver.ts","webpack:///src/app/travel/listing/travel-listing.page.ts","webpack:///src/app/travel/listing/travel-listing.page.html"],"names":["TravelListingResolver","travelService","dataSource","getListingDataSource","dataStore","getListingStore","seo","title","description","keywords","routes","path","component","resolve","data","TravelListingPageModule","forChild","imports","declarations","providers","TravelListingPlainResolver","TravelListingPage","route","subscriptions","pipe","resolvedRouteData","extractData","subscribe","state","listing","error","console","log","unsubscribe","isShell","selector","templateUrl","styleUrls"],"mappings":"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","file":"travel-listing-travel-listing-module-es5.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Resolve } from '@angular/router';\r\nimport { Observable, of } from 'rxjs';\r\n\r\nimport { DataStore } from '../../shell/data-store';\r\nimport { TravelService } from '../travel.service';\r\nimport { TravelListingModel } from './travel-listing.model';\r\nimport { SeoDataModel } from '../../utils/seo/seo-data.model';\r\n\r\n@Injectable()\r\nexport class TravelListingResolver implements Resolve<any> {\r\n\r\n  constructor(private travelService: TravelService) {}\r\n\r\n  resolve():  { dataStore: DataStore<TravelListingModel>, seo: Observable<SeoDataModel> } {\r\n    const dataSource: Observable<TravelListingModel> = this.travelService.getListingDataSource();\r\n    const dataStore: DataStore<TravelListingModel> = this.travelService.getListingStore(dataSource);\r\n\r\n    const seo = new SeoDataModel();\r\n    seo.title = 'Travel Listing Page';\r\n    seo.description = 'Travel Description';\r\n    seo.keywords = 'travel, keywords, ionic, angular';\r\n\r\n    return { dataStore: dataStore, seo: of(seo) };\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ComponentsModule } from '../../components/components.module';\r\n\r\nimport { TravelService } from '../travel.service';\r\nimport { TravelListingPage } from './travel-listing.page';\r\nimport { TravelListingResolver } from './travel-listing.resolver';\r\nimport { TravelListingPlainResolver } from './travel-listing.plain.resolver';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: TravelListingPage,\r\n    resolve: {\r\n      data: TravelListingResolver\r\n      // data: TravelListingPlainResolver\r\n    }\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    ComponentsModule\r\n  ],\r\n  declarations: [\r\n    TravelListingPage\r\n  ],\r\n  providers: [\r\n    TravelListingResolver,\r\n    TravelListingPlainResolver,\r\n    TravelService\r\n  ]\r\n})\r\nexport class TravelListingPageModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { TravelService } from '../travel.service';\r\nimport { TravelListingModel } from './travel-listing.model';\r\n\r\n@Injectable()\r\nexport class TravelListingPlainResolver implements Resolve<TravelListingModel> {\r\n\r\n  constructor(private travelService: TravelService) {}\r\n\r\n  resolve(): Observable<TravelListingModel> {\r\n    return this.travelService.getListingDataSource();\r\n  }\r\n}\r\n","import { Component, OnInit, HostBinding } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { IResolvedRouteData, ResolverHelper } from '../../utils/resolver-helper';\r\nimport { TravelListingModel } from './travel-listing.model';\r\nimport { switchMap } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-travel-listing',\r\n  templateUrl: './travel-listing.page.html',\r\n  styleUrls: [\r\n    './styles/travel-listing.page.scss',\r\n    './styles/travel-listing.shell.scss'\r\n  ]\r\n})\r\nexport class TravelListingPage implements OnInit {\r\n  // Gather all component subscription in one place. Can be one Subscription or multiple (chained using the Subscription.add() method)\r\n  subscriptions: Subscription;\r\n\r\n  listing: TravelListingModel;\r\n\r\n  @HostBinding('class.is-shell') get isShell() {\r\n    return (this.listing && this.listing.isShell) ? true : false;\r\n  }\r\n\r\n  constructor(\r\n    private route: ActivatedRoute\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.subscriptions = this.route.data\r\n    .pipe(\r\n      // Extract data for this page\r\n      switchMap((resolvedRouteData: IResolvedRouteData<TravelListingModel>) => {\r\n        // tslint:disable-next-line:no-string-literal\r\n        return ResolverHelper.extractData<TravelListingModel>(resolvedRouteData.data['dataStore'], TravelListingModel);\r\n      })\r\n    )\r\n    .subscribe((state) => {\r\n      this.listing = state;\r\n    }, (error) => console.log(error));\r\n  }\r\n\r\n  // NOTE: Ionic only calls ngOnDestroy if the page was popped (ex: when navigating back)\r\n  // Since ngOnDestroy might not fire when you navigate from the current page, use ionViewWillLeave to cleanup Subscriptions\r\n  ionViewWillLeave(): void {\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button defaultHref=\"app/categories\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>Travel Listing</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content>\r\n  <ng-container *ngIf=\"listing?.items\">\r\n    <div class=\"listing-item\" *ngFor=\"let item of listing?.items\">\r\n      <ion-row class=\"image-row\">\r\n        <ion-col size=\"12\">\r\n          <a [routerLink]=\"['/app/categories/travel/', item.slug]\">\r\n            <app-image-shell [display]=\"'cover'\" class=\"add-overlay item-image\" [src]=\"item.image\" [routerLink]=\"['/app/categories/travel/', item.slug]\">\r\n              <app-aspect-ratio [ratio]=\"{w:3, h:2}\">\r\n                <div class=\"content-inside-item-image\">\r\n                  <div class=\"item-icon\">\r\n                    <app-aspect-ratio [ratio]=\"{w:1, h:1}\">\r\n                      <app-image-shell [src]=\"item.icon\" class=\"icon-image\"></app-image-shell>\r\n                    </app-aspect-ratio>\r\n                  </div>\r\n                  <div class=\"item-cta\">\r\n                    <span>Explore</span>\r\n                    <ion-icon class=\"cta-icon\" name=\"arrow-forward\"></ion-icon>\r\n                  </div>\r\n                </div>\r\n              </app-aspect-ratio>\r\n            </app-image-shell>\r\n          </a>\r\n        </ion-col>\r\n      </ion-row>\r\n      <ion-row class=\"info-row\">\r\n        <ion-col class=\"main-info-col\">\r\n          <h3 class=\"item-name\">\r\n            <a class=\"name-anchor\" [routerLink]=\"['/app/categories/travel/', item.slug]\">\r\n              <app-text-shell animation=\"bouncing\" [data]=\"(item?.name && item?.category) ? (item.name + ' - ' + item.category) : (item.name)\"></app-text-shell>\r\n            </a>\r\n          </h3>\r\n          <p class=\"item-description\">\r\n            <app-text-shell animation=\"bouncing\" [data]=\"item.description\" lines=\"3\"></app-text-shell>\r\n          </p>\r\n          <p class=\"item-address\">\r\n            <app-text-shell animation=\"bouncing\" [data]=\"item.address\"></app-text-shell>\r\n          </p>\r\n        </ion-col>\r\n      </ion-row>\r\n      <ion-row class=\"stats-row\">\r\n        <ion-col size=\"2\" class=\"item-rating\">\r\n          <span class=\"rating-value\">\r\n            <app-text-shell [data]=\"item.rating\"></app-text-shell>\r\n          </span>\r\n          <ion-icon class=\"stats-icon\" src=\"./assets/custom-icons/travel/star.svg\"></ion-icon>\r\n        </ion-col>\r\n        <ion-col size=\"2\" class=\"item-reviews\">\r\n          <span class=\"reviews-count\">\r\n            <app-text-shell [data]=\"item.reviewsCount\"></app-text-shell>\r\n          </span>\r\n          <ion-icon class=\"stats-icon\" src=\"./assets/custom-icons/travel/comments.svg\"></ion-icon>\r\n        </ion-col>\r\n      </ion-row>\r\n    </div>\r\n  </ng-container>\r\n</ion-content>\r\n"]}