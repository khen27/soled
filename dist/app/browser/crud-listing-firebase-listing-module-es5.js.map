{"version":3,"sources":["webpack:///src/app/firebase/crud/listing/firebase-listing.module.ts","webpack:///src/app/firebase/crud/listing/firebase-listing.page.html","webpack:///src/app/firebase/crud/listing/firebase-listing.page.ts","webpack:///src/app/firebase/crud/listing/firebase-listing.resolver.ts"],"names":["routes","path","component","resolve","data","FirebaseListingPageModule","forChild","imports","declarations","providers","FirebaseListingPage","firebaseCrudService","modalController","route","routerOutlet","showAgeFilter","searchSubject","searchFiltersObservable","asObservable","stateSubscription","unsubscribe","searchQuery","rangeForm","dual","lower","upper","subscribe","resolvedRouteData","listingDataStore","updateSearchObservable","pipe","filters","filteredDataSource","searchUsersByAge","searchingShellModel","searchingDelay","dataSourceWithShellObservable","AppendShell","filteredItems","query","isShell","queryFilteredItems","filter","item","name","toLowerCase","includes","Object","assign","state","items","error","console","log","create","swipeToClose","presentingElement","nativeEl","modal","present","next","controls","value","openFirebaseCreateModal","searchList","selector","templateUrl","styleUrls","FirebaseListingResolver","dataSource","getListingDataSource","dataStore","getListingStore"],"mappings":"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","file":"crud-listing-firebase-listing-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { FirebaseListingPage } from './firebase-listing.page';\r\nimport { FirebaseListingResolver } from './firebase-listing.resolver';\r\nimport { ComponentsModule } from '../../../components/components.module';\r\nimport { FirebaseCrudService } from '../firebase-crud.service';\r\nimport { FirebaseCrudSharedModule } from '../firebase-crud-shared.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FirebaseListingPage,\r\n    resolve: {\r\n      data: FirebaseListingResolver\r\n    }\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    ComponentsModule,\r\n    RouterModule.forChild(routes),\r\n    FirebaseCrudSharedModule\r\n  ],\r\n  declarations: [\r\n    FirebaseListingPage\r\n  ],\r\n  providers: [\r\n    FirebaseCrudService,\r\n    FirebaseListingResolver\r\n  ]\r\n})\r\nexport class FirebaseListingPageModule {}\r\n","<ion-header>\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-menu-button color=\"light\"></ion-menu-button>\r\n    </ion-buttons>\r\n    <ion-title>Firebase</ion-title>\r\n    <ion-buttons slot=\"end\">\r\n      <ion-button (click)=\"openFirebaseCreateModal()\">\r\n        <ion-icon slot=\"icon-only\" name=\"add\"></ion-icon>\r\n      </ion-button>\r\n    </ion-buttons>\r\n  </ion-toolbar>\r\n\r\n  <ion-toolbar class=\"filters-toolbar\">\r\n    <ion-row class=\"searchbar-row\" align-items-center>\r\n      <ion-col>\r\n        <ion-searchbar class=\"items-searchbar\" animated [(ngModel)]=\"searchQuery\" (ionChange)=\"searchList()\" placeholder=\"Filter by name...\"></ion-searchbar>\r\n      </ion-col>\r\n      <ion-col class=\"call-to-action-col\">\r\n        <ion-button fill=\"clear\" color=\"secondary\" class=\"filters-btn\" (click)=\"showAgeFilter = !showAgeFilter\">\r\n          <ion-icon slot=\"icon-only\" name=\"options\"></ion-icon>\r\n        </ion-button>\r\n      </ion-col>\r\n    </ion-row>\r\n    <form [formGroup]=\"rangeForm\" [hidden]=\"!showAgeFilter\">\r\n      <ion-row class=\"range-item-row\">\r\n        <ion-col size=\"12\">\r\n          <div class=\"range-header\">\r\n            <span class=\"range-value\">{{ rangeForm.controls.dual.value.lower }}</span>\r\n            <span class=\"range-label\">Filter by age</span>\r\n            <span class=\"range-value\">{{ rangeForm.controls.dual.value.upper }}</span>\r\n          </div>\r\n        </ion-col>\r\n        <ion-col size=\"12\">\r\n          <ion-range class=\"range-control\" formControlName=\"dual\" color=\"secondary\" pin=\"true\" dualKnobs=\"true\" (ionChange)=\"searchList()\" min=\"1\" max=\"100\" step=\"1\" debounce=\"400\"></ion-range>\r\n        </ion-col>\r\n      </ion-row>\r\n    </form>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"firebase-listing-content\">\r\n  <ion-list class=\"items-list\" *ngIf=\"items?.length > 0\">\r\n    <ion-item class=\"list-item\" *ngFor=\"let item of items\" [routerLink]=\"['/firebase/crud/details', item.id]\">\r\n      <ion-row class=\"user-row\">\r\n        <ion-col size=\"3\" class=\"user-image-wrapper\">\r\n          <app-aspect-ratio [ratio]=\"{w: 1, h: 1}\">\r\n            <app-image-shell class=\"user-image\" animation=\"spinner\" [src]=\"item.avatar\" [alt]=\"'item image'\"></app-image-shell>\r\n          </app-aspect-ratio>\r\n        </ion-col>\r\n        <ion-col class=\"user-data-wrapper\">\r\n          <div class=\"user-info\">\r\n            <h3 class=\"user-name\">\r\n              <app-text-shell animation=\"bouncing\" [data]=\"item.name?.concat(' ').concat(item.lastname)\"></app-text-shell>\r\n            </h3>\r\n            <h5 class=\"user-age\">\r\n              <app-text-shell animation=\"bouncing\" [data]=\"item.age?.toString().concat(' years old')\"></app-text-shell>\r\n            </h5>\r\n          </div>\r\n        </ion-col>\r\n      </ion-row>\r\n    </ion-item>\r\n  </ion-list>\r\n  <h3 *ngIf=\"items?.length == 0\" class=\"empty-list-message\">\r\n    No users found for the selected filters.\r\n  </h3>\r\n</ion-content>\r\n","import { Component, OnInit, OnDestroy, HostBinding } from '@angular/core';\r\nimport { FormGroup, FormControl } from '@angular/forms';\r\nimport { ModalController, IonRouterOutlet } from '@ionic/angular';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\nimport { Observable, ReplaySubject, Subscription, merge } from 'rxjs';\r\nimport { switchMap, map } from 'rxjs/operators';\r\n\r\nimport { FirebaseListingItemModel } from './firebase-listing.model';\r\nimport { FirebaseCreateUserModal } from '../user/create/firebase-create-user.modal';\r\nimport { DataStore, ShellModel } from '../../../../app/shell/data-store';\r\nimport { FirebaseCrudService } from '../firebase-crud.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-firebase-listing',\r\n  templateUrl: './firebase-listing.page.html',\r\n  styleUrls: [\r\n    './styles/firebase-listing.page.scss',\r\n    './styles/firebase-listing.ios.scss',\r\n    './styles/firebase-listing.shell.scss'\r\n  ],\r\n})\r\nexport class FirebaseListingPage implements OnInit, OnDestroy {\r\n  rangeForm: FormGroup;\r\n  searchQuery: string;\r\n  showAgeFilter = false;\r\n\r\n  searchSubject: ReplaySubject<any> = new ReplaySubject<any>(1);\r\n  searchFiltersObservable: Observable<any> = this.searchSubject.asObservable();\r\n\r\n  listingDataStore: DataStore<Array<FirebaseListingItemModel>>;\r\n  stateSubscription: Subscription;\r\n\r\n  // Use Typescript intersection types to enable docorating the Array of firebase models with a shell model\r\n  // (ref: https://www.typescriptlang.org/docs/handbook/advanced-types.html#intersection-types)\r\n  items: Array<FirebaseListingItemModel> & ShellModel;\r\n\r\n  @HostBinding('class.is-shell') get isShell() {\r\n    return (this.items && this.items.isShell) ? true : false;\r\n  }\r\n\r\n  constructor(\r\n    public firebaseCrudService: FirebaseCrudService,\r\n    public modalController: ModalController,\r\n    private route: ActivatedRoute,\r\n    private routerOutlet: IonRouterOutlet\r\n  ) { }\r\n\r\n  ngOnDestroy(): void {\r\n    this.stateSubscription.unsubscribe();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.searchQuery = '';\r\n\r\n    this.rangeForm = new FormGroup({\r\n      dual: new FormControl({lower: 1, upper: 100})\r\n    });\r\n\r\n    this.route.data.subscribe(\r\n      (resolvedRouteData) => {\r\n        this.listingDataStore = resolvedRouteData['data'];\r\n\r\n        // We need to avoid having multiple firebase subscriptions open at the same time to avoid memory leaks\r\n        // By using a switchMap to cancel previous subscription each time a new one arrives,\r\n        // we ensure having just one subscription (the latest)\r\n        const updateSearchObservable = this.searchFiltersObservable.pipe(\r\n          switchMap((filters) => {\r\n            const filteredDataSource = this.firebaseCrudService.searchUsersByAge(\r\n              filters.lower,\r\n              filters.upper\r\n            );\r\n            // Send a shell until we have filtered data from Firebase\r\n            const searchingShellModel = [\r\n              new FirebaseListingItemModel(),\r\n              new FirebaseListingItemModel()\r\n            ];\r\n            // Wait on purpose some time to ensure the shell animation gets shown while loading filtered data\r\n            const searchingDelay = 400;\r\n\r\n            const dataSourceWithShellObservable = DataStore.AppendShell(filteredDataSource, searchingShellModel, searchingDelay);\r\n\r\n            return dataSourceWithShellObservable.pipe(\r\n              map(filteredItems => {\r\n                // Just filter items by name if there is a search query and they are not shell values\r\n                if (filters.query !== '' && !filteredItems.isShell) {\r\n                  const queryFilteredItems = filteredItems.filter(item =>\r\n                    item.name.toLowerCase().includes(filters.query.toLowerCase()\r\n                  ));\r\n                  // While filtering we strip out the isShell property, add it again\r\n                  return Object.assign(queryFilteredItems, {isShell: filteredItems.isShell});\r\n                } else {\r\n                  return filteredItems;\r\n                }\r\n              })\r\n            );\r\n          })\r\n        );\r\n\r\n        // Keep track of the subscription to unsubscribe onDestroy\r\n        // Merge filteredData with the original dataStore state\r\n        this.stateSubscription = merge(\r\n          this.listingDataStore.state,\r\n          updateSearchObservable\r\n        ).subscribe(\r\n          (state) => {\r\n            this.items = state;\r\n          },\r\n          (error) => console.log(error),\r\n          () => console.log('stateSubscription completed')\r\n        );\r\n      },\r\n      (error) => console.log(error)\r\n    );\r\n  }\r\n\r\n  async openFirebaseCreateModal() {\r\n    const modal = await this.modalController.create({\r\n      component: FirebaseCreateUserModal,\r\n      swipeToClose: true,\r\n      presentingElement: this.routerOutlet.nativeEl\r\n    });\r\n    await modal.present();\r\n  }\r\n\r\n  searchList() {\r\n    this.searchSubject.next({\r\n      lower: this.rangeForm.controls.dual.value.lower,\r\n      upper: this.rangeForm.controls.dual.value.upper,\r\n      query: this.searchQuery\r\n    });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { FirebaseListingItemModel } from './firebase-listing.model';\r\nimport { FirebaseCrudService } from '../firebase-crud.service';\r\nimport { DataStore } from '../../../shell/data-store';\r\n\r\n@Injectable()\r\nexport class FirebaseListingResolver implements Resolve<any> {\r\n\r\n  constructor(private firebaseCrudService: FirebaseCrudService) {}\r\n\r\n  resolve() {\r\n    const dataSource: Observable<Array<FirebaseListingItemModel>> = this.firebaseCrudService.getListingDataSource();\r\n\r\n    const dataStore: DataStore<Array<FirebaseListingItemModel>> = this.firebaseCrudService.getListingStore(dataSource);\r\n\r\n    return dataStore;\r\n  }\r\n}\r\n"]}