!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{ROOv:function(e,i,o){"use strict";o.r(i),o.d(i,"FirebaseSignInPageModule",(function(){return L}));var r=o("ofXK"),a=o("3Pt+"),c=o("tyNb"),s=o("TEn/"),g=o("mrSG"),u=o("1oPy"),l=o("T7tK"),b=o("fXoL"),d=o("A0kb");function p(n,t){if(1&n&&(b.Ob(0,"div",22),b.Jb(1,"ion-icon",23),b.Ob(2,"span"),b.vc(3),b.Nb(),b.Nb()),2&n){var e=b.Yb().$implicit;b.yb(3),b.wc(e.message)}}function h(n,t){if(1&n&&(b.Mb(0),b.tc(1,p,4,1,"div",21),b.Lb()),2&n){var e=t.$implicit,i=b.Yb();b.yb(1),b.fc("ngIf",i.loginForm.get("email").hasError(e.type)&&(i.loginForm.get("email").dirty||i.loginForm.get("email").touched))}}function m(n,t){if(1&n&&(b.Ob(0,"div",22),b.Jb(1,"ion-icon",23),b.Ob(2,"span"),b.vc(3),b.Nb(),b.Nb()),2&n){var e=b.Yb().$implicit;b.yb(3),b.wc(e.message)}}function f(n,t){if(1&n&&(b.Mb(0),b.tc(1,m,4,1,"div",21),b.Lb()),2&n){var e=t.$implicit,i=b.Yb();b.yb(1),b.fc("ngIf",i.loginForm.get("password").hasError(e.type)&&(i.loginForm.get("password").dirty||i.loginForm.get("password").touched))}}function v(n,t){if(1&n&&(b.Ob(0,"div",9),b.Ob(1,"div",22),b.Jb(2,"ion-icon",23),b.Ob(3,"span"),b.vc(4),b.Nb(),b.Nb(),b.Nb()),2&n){var e=b.Yb();b.yb(4),b.wc(e.submitError)}}var O,P,w=function(){return["/firebase/auth/sign-up"]},y=((O=function(){function e(t,i,o,r,c,s,g){var u=this;n(this,e),this.router=t,this.route=i,this.authService=o,this.ngZone=r,this.loadingController=c,this.location=s,this.historyHelper=g,this.validation_messages={email:[{type:"required",message:"Email is required."},{type:"pattern",message:"Enter a valid email."}],password:[{type:"required",message:"Password is required."},{type:"minlength",message:"Password must be at least 6 characters long."}]},this.loginForm=new a.e({email:new a.c("",a.q.compose([a.q.required,a.q.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])),password:new a.c("",a.q.compose([a.q.minLength(6),a.q.required]))}),this.authRedirectResult=this.authService.getRedirectResult().subscribe((function(n){n.user?u.redirectLoggedUserToProfilePage():n.error&&u.manageAuthWithProvidersErrors(n.error)})),this.route.queryParams.subscribe((function(n){var t=n["auth-redirect"];t&&u.presentLoading(t)}))}var i,o,r;return i=e,(o=[{key:"ngOnDestroy",value:function(){this.dismissLoading()}},{key:"redirectLoggedUserToProfilePage",value:function(){var n=this;this.dismissLoading(),this.ngZone.run((function(){n.router.navigate(["firebase/auth/profile"],{replaceUrl:!0})}))}},{key:"presentLoading",value:function(n){return Object(g.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=n[0].toUpperCase()+n.slice(1),this.loadingController.create({message:n?"Signing in with "+e:"Signin in ..."}).then((function(n){i.location.path().includes("auth-redirect")&&(i.redirectLoader=n,i.redirectLoader.present())}));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"dismissLoading",value:function(){return Object(g.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.redirectLoader,!n.t0){n.next=4;break}return n.next=4,this.redirectLoader.dismiss();case 4:case"end":return n.stop()}}),n,this)})))}},{key:"prepareForAuthWithProvidersRedirection",value:function(n){this.presentLoading(n),this.location.replaceState(this.location.path(),"auth-redirect="+n,this.location.getState())}},{key:"manageAuthWithProvidersErrors",value:function(n){this.submitError=n,this.location.replaceState(this.router.url.split("?")[0],""),this.dismissLoading()}},{key:"resetSubmitError",value:function(){this.submitError=null}},{key:"signInWithEmail",value:function(){var n=this;this.resetSubmitError(),this.authService.signInWithEmail(this.loginForm.value.email,this.loginForm.value.password).then((function(t){n.redirectLoggedUserToProfilePage()})).catch((function(t){n.submitError=t.message,n.dismissLoading()}))}},{key:"doFacebookLogin",value:function(){var n=this;this.resetSubmitError(),this.prepareForAuthWithProvidersRedirection("facebook"),this.authService.signInWithFacebook().subscribe((function(t){n.redirectLoggedUserToProfilePage()}),(function(t){n.manageAuthWithProvidersErrors(t.message)}))}},{key:"doGoogleLogin",value:function(){var n=this;this.resetSubmitError(),this.prepareForAuthWithProvidersRedirection("google"),this.authService.signInWithGoogle().subscribe((function(t){n.redirectLoggedUserToProfilePage()}),(function(t){console.log(t),n.manageAuthWithProvidersErrors(t.message)}))}},{key:"doTwitterLogin",value:function(){var n=this;this.resetSubmitError(),this.prepareForAuthWithProvidersRedirection("twitter"),this.authService.signInWithTwitter().subscribe((function(t){n.redirectLoggedUserToProfilePage()}),(function(t){console.log(t),n.manageAuthWithProvidersErrors(t.message)}))}}])&&t(i.prototype,o),r&&t(i,r),e}()).\u0275fac=function(n){return new(n||O)(b.Ib(c.g),b.Ib(c.a),b.Ib(l.a),b.Ib(b.z),b.Ib(s.hb),b.Ib(r.i),b.Ib(u.a))},O.\u0275cmp=b.Cb({type:O,selectors:[["app-firebase-sign-in"]],decls:34,vars:7,consts:[[1,"ion-no-border"],["slot","start"],["defaultHref","app/categories"],[1,"login-content"],[1,"auth-title"],[3,"formGroup","ngSubmit"],["lines","full",1,"inputs-list"],[1,"input-item"],["type","email","placeholder","Email","formControlName","email","clearInput","","autocapitalize","off","inputmode","email"],[1,"error-container"],[4,"ngFor","ngForOf"],["type","password","placeholder","Password","formControlName","password"],["type","submit","expand","block",1,"login-btn",3,"disabled"],["class","error-container",4,"ngIf"],[1,"other-auth-options-row"],["fill","clear",1,"signup-btn",3,"routerLink"],[1,"social-auth-options"],[1,"options-divider"],["expand","block","color","facebook",1,"social-auth-btn","facebook-auth-btn",3,"click"],["expand","block","color","google",1,"social-auth-btn","google-auth-btn",3,"click"],["expand","block","color","twitter",1,"social-auth-btn","twitter-auth-btn",3,"click"],["class","error-message",4,"ngIf"],[1,"error-message"],["name","information-circle-outline"]],template:function(n,t){1&n&&(b.Ob(0,"ion-header",0),b.Ob(1,"ion-toolbar"),b.Ob(2,"ion-buttons",1),b.Jb(3,"ion-back-button",2),b.Nb(),b.Nb(),b.Nb(),b.Ob(4,"ion-content",3),b.Ob(5,"h2",4),b.vc(6," Sign In with Firebase "),b.Jb(7,"br"),b.Nb(),b.Ob(8,"form",5),b.Wb("ngSubmit",(function(){return t.signInWithEmail()})),b.Ob(9,"ion-list",6),b.Ob(10,"ion-item",7),b.Jb(11,"ion-input",8),b.Nb(),b.Ob(12,"div",9),b.tc(13,h,2,1,"ng-container",10),b.Nb(),b.Ob(14,"ion-item",7),b.Ob(15,"app-show-hide-password"),b.Jb(16,"ion-input",11),b.Nb(),b.Nb(),b.Ob(17,"div",9),b.tc(18,f,2,1,"ng-container",10),b.Nb(),b.Nb(),b.Ob(19,"ion-button",12),b.vc(20,"Log In"),b.Nb(),b.tc(21,v,5,1,"div",13),b.Ob(22,"ion-row",14),b.Ob(23,"ion-button",15),b.vc(24," Sign Up! "),b.Nb(),b.Nb(),b.Nb(),b.Ob(25,"div",16),b.Ob(26,"p",17),b.vc(27,"Or"),b.Nb(),b.Ob(28,"ion-button",18),b.Wb("click",(function(){return t.doFacebookLogin()})),b.vc(29,"Log In with Facebook"),b.Nb(),b.Ob(30,"ion-button",19),b.Wb("click",(function(){return t.doGoogleLogin()})),b.vc(31,"Log In with Google"),b.Nb(),b.Ob(32,"ion-button",20),b.Wb("click",(function(){return t.doTwitterLogin()})),b.vc(33,"Log In with Twitter"),b.Nb(),b.Nb(),b.Nb()),2&n&&(b.yb(8),b.fc("formGroup",t.loginForm),b.yb(5),b.fc("ngForOf",t.validation_messages.email),b.yb(5),b.fc("ngForOf",t.validation_messages.password),b.yb(1),b.fc("disabled",!t.loginForm.valid),b.yb(2),b.fc("ngIf",t.submitError),b.yb(2),b.fc("routerLink",b.hc(6,w)))},directives:[s.v,s.eb,s.i,s.e,s.f,s.q,a.r,a.m,a.f,s.D,s.z,s.y,s.ob,a.l,a.d,r.l,d.a,s.h,r.m,s.N,s.mb,c.h,s.w],styles:["[_nghost-%COMP%]{--page-margin:var(--app-broad-margin);--page-background:var(--app-background-shade)}.login-content[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%]{--background:var(--page-background)}.login-content[_ngcontent-%COMP%]{--padding-start:var(--page-margin);--padding-end:var(--page-margin);--padding-top:var(--page-margin);--padding-bottom:var(--page-margin)}.login-content[_ngcontent-%COMP%]   .auth-title[_ngcontent-%COMP%]{color:var(--ion-color-dark);font-weight:700;margin-top:calc(var(--page-margin) / 2);margin-bottom:calc(var(--page-margin) * (3/2));letter-spacing:.6px}.login-content[_ngcontent-%COMP%]   .inputs-list[_ngcontent-%COMP%]{--ion-item-background:var(--page-background)}.login-content[_ngcontent-%COMP%]   .inputs-list[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]{--padding-start:0px;--padding-end:0px;--inner-padding-end:0px}.login-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{margin:calc(var(--page-margin) / 2) 0;display:flex;align-items:center;color:var(--ion-color-danger);font-size:14px}.login-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{-webkit-padding-end:calc(var(--page-margin) / 2);padding-inline-end:calc(var(--page-margin) / 2)}.login-content[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]{margin:calc(var(--page-margin) / 2) 0}.login-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]{justify-content:flex-end;align-items:center}.login-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]{--color:var(--ion-color-secondary);margin:0}.login-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]:focus{outline:none}.login-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .options-divider[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin:var(--page-margin) 0;text-align:center}.login-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .social-auth-btn[_ngcontent-%COMP%]{margin:0}.login-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .social-auth-btn[_ngcontent-%COMP%]:not(:first-child){margin-top:var(--page-margin)}"]}),O),k=o("j1ZV"),C=o("HTFn"),_=o("lJxs"),M=[{path:"",component:y,canActivate:[C.a],data:{authGuardPipe:function(n){return Object(_.a)((function(t){return!(null!==t&&!n.queryParams["auth-redirect"])||["firebase/auth/profile"]}))}}}],L=((P=function t(){n(this,t)}).\u0275mod=b.Gb({type:P}),P.\u0275inj=b.Fb({factory:function(n){return new(n||P)},imports:[[r.c,a.h,a.o,s.fb,c.k.forChild(M),k.a]]}),P)}}])}();