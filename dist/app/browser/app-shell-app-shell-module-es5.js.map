{"version":3,"sources":["webpack:///src/app/showcase/app-shell/app-shell.module.ts","webpack:///src/app/travel/listing/travel-listing.model.ts","webpack:///src/app/showcase/app-shell/data-store-subset/data-store-subset.page.ts","webpack:///src/app/showcase/app-shell/data-store-subset/data-store-subset.page.html","webpack:///src/app/showcase/app-shell/data-store-dependant/data-store-dependant.page.ts","webpack:///src/app/showcase/app-shell/data-store-dependant/data-store-dependant.page.html","webpack:///src/app/showcase/app-shell/text-shell/text-shell.page.ts","webpack:///src/app/showcase/app-shell/text-shell/text-shell.page.html","webpack:///src/app/showcase/app-shell/simple-data-binding/simple-data-binding.page.ts","webpack:///src/app/showcase/app-shell/simple-data-binding/simple-data-binding.page.html","webpack:///src/app/showcase/app-shell/data-store-stacked/data-store-stacked.page.ts","webpack:///src/app/showcase/app-shell/data-store-stacked/data-store-stacked.page.html","webpack:///src/app/showcase/app-shell/data-store-basic/data-store-basic.page.ts","webpack:///src/app/showcase/app-shell/data-store-basic/data-store-basic.page.html","webpack:///src/app/showcase/app-shell/app-shell.page.ts","webpack:///src/app/showcase/app-shell/app-shell.page.html","webpack:///src/app/showcase/app-shell/data-store-pagination/data-store-pagination.page.ts","webpack:///src/app/showcase/app-shell/data-store-pagination/data-store-pagination.page.html","webpack:///src/app/showcase/app-shell/image-shell/image-shell.page.ts","webpack:///src/app/showcase/app-shell/image-shell/image-shell.page.html","webpack:///src/app/shell/data-store.ts","webpack:///src/app/showcase/app-shell/aspect-ratio/aspect-ratio.page.ts","webpack:///src/app/showcase/app-shell/aspect-ratio/aspect-ratio.page.html","webpack:///src/app/fashion/listing/fashion-listing.model.ts","webpack:///src/app/showcase/app-shell/data-store-multiple/data-store-multiple.page.ts","webpack:///src/app/showcase/app-shell/data-store-multiple/data-store-multiple.page.html","webpack:///src/app/showcase/app-shell/data-store-combined/data-store-combined.page.ts","webpack:///src/app/showcase/app-shell/data-store-combined/data-store-combined.page.html","webpack:///src/app/showcase/app-shell/data-store-list/data-store-list.page.ts","webpack:///src/app/showcase/app-shell/data-store-list/data-store-list.page.html"],"names":["routes","path","component","AppShellModule","forChild","imports","declarations","providers","TravelItemModel","TravelListingModel","items","DataStoreSubsetPage","showcaseService","dataSource","getUserSubsetData","shellModel","companyDataStore","load","state","subscribe","data","company","selector","templateUrl","styleUrls","DataStoreDependantPage","postDataSource","getDependantDataSourcePost","postShellModel","postDataStore","post","commentsShellModel","commentsDataSource","getDependantDataSourcePostComments","commentsDataStore","comments","TextShellPage","sampleTextShellData","SimpleDataBindingPage","simpleFetchButtonDisabled","simpleFetchCountdown","showcaseShellSimpleFetch","countdown","simpleFetchData","simpleFetchInterval","timer$","pipe","next","complete","getSimpleDataSource","val","console","log","DataStoreStackedPage","stackedUsers","shellUsers","triggerNewItemsLoading","newItemsTriggerObservable","asObservable","openDataStream","getOpenDataStream","openDataStore","newDataObservable","newValuesObservable","getStackedValuesDataSource","newDataShell","newValuesWithShellObservable","AppendShell","isShell","shellsAsObservables","map","dataWithShell","push","pushValuesToOpenStream","loadStackedResults","DataStoreBasicPage","dataStoreButtonDisabled","showcaseDataStore","dataStore","dataStoreData","AppShellPage","DataStorePaginationPage","loadMorePages","currentPage","triggerNewPageLoading","newPageTriggerObservable","getPaginationDataSource","remoteApiDataStore","pageNumber","pageDataSource","dataSourceWithShellObservable","result","length","pagedUsers","getNextPageUsers","ImageShellPage","ShellModel","DataStore","networkDelay","appShellConfig","timeline","dataSourceObservable","delay","processedDataSource","dataValue","dataObservable","delayObservable","delayValue","Object","assign","AspectRatioPage","FashionItemModel","FashionListingModel","DataStoreMultiplePage","dataSourceA","getMultipleDataSourceA","dataSourceB","getMultipleDataSourceB","shellModelA","dataStoreA","dataA","shellModelB","dataStoreB","dataB","DataStoreCombinedPage","getCombinedTasksUserDataSource","tasksCombinedDataStore","tasks","DataStoreListPage","getListDataSource"],"mappings":"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CF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACF;;AACF;;AACF;;AACF;;AACF;;AACA;;AACE;;AAAI;;AAAkB;;AACtB;;AACE;;AACF;;AACA;;AACE;;AACF;;AACA;;AACE;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACF;;AACF;;AACF;;AACF;;AACA;;AACE;;AAAG;;AAAK;;AAAK;;AACf;;AACF;;AACA;;AACE;;AAAI;;AAAkB;;AACtB;;AACE;;AACF;;AACA;;AACE;;AACF;;AACA;;AACE;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AACF;;AACF;;AACF;;AACF;;AACA;;AACE;;AAAG;;AAAY;;AAAK;;AAAmD;;AAAM;;AAAsB;;AAAQ;;AAC7G;;AACF;;AACA;;AACE;;AAAI;;AAA0C;;AAC9C;;AACE;;AAAuF;;AAAM;;AAAsB;;AAAO;;AAC5H;;AACJ;;AACA;;AAA2B;;AAAG;;AAAmE;;AAAI;;AACrG;;AACI;;AACE;;AACF;;AACN;;AACA;;AAA2B;;AAAG;;AAAuE;;AAAI;;AACzG;;AACM;;AACE;;AACF;;AACF;;AACF;;AACA;;AACE;;AAAI;;AAAe;;AACnB;;AACE;;AAAI;;AAAM;;AAAsB;;AAAQ;;AAAsD;;AAAG;;AAAE;;AAAI;;AAAE;;AAAG;;AAAE;;AAAI;;AAAE;;AAAG;;AAAE;;AAAI;;AAAE;;AAAG;;AAAC;;AAAI;;AACzI;;AACA;;AACE;;AAAsE;;AAAM;;AAA6B;;AAAO;;AAClH;;AACJ;;AACA;;AAMA;;AACI;;AACE;;AACF;;AACJ;;AACA;;AAmBA;;AACI;;AACE;;AACF;;AACA;;AACE;;AACF;;AACA;;AACE;;AACF;;AACA;;AACE;;AACF;;AACA;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AAAiC;;AAAG;;AAAU;;AAAK;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","file":"app-shell-app-shell-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ComponentsModule } from '../../components/components.module';\r\n\r\nimport { AppShellPage } from './app-shell.page';\r\nimport { ShowcaseService } from '../showcase.service';\r\n\r\nimport { AspectRatioPage } from './aspect-ratio/aspect-ratio.page';\r\nimport { ImageShellPage } from './image-shell/image-shell.page';\r\nimport { TextShellPage } from './text-shell/text-shell.page';\r\nimport { SimpleDataBindingPage } from './simple-data-binding/simple-data-binding.page';\r\nimport { DataStoreBasicPage } from './data-store-basic/data-store-basic.page';\r\nimport { DataStoreListPage } from './data-store-list/data-store-list.page';\r\nimport { DataStoreSubsetPage } from './data-store-subset/data-store-subset.page';\r\nimport { DataStoreCombinedPage } from './data-store-combined/data-store-combined.page';\r\nimport { DataStoreMultiplePage } from './data-store-multiple/data-store-multiple.page';\r\nimport { DataStorePaginationPage } from './data-store-pagination/data-store-pagination.page';\r\nimport { DataStoreStackedPage } from './data-store-stacked/data-store-stacked.page';\r\nimport { DataStoreDependantPage } from './data-store-dependant/data-store-dependant.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AppShellPage\r\n  },\r\n  {\r\n    path: 'aspect-ratio',\r\n    component: AspectRatioPage\r\n  },\r\n  {\r\n    path: 'image-shell',\r\n    component: ImageShellPage\r\n  },\r\n  {\r\n    path: 'text-shell',\r\n    component: TextShellPage\r\n  },\r\n  {\r\n    path: 'simple-data-binding',\r\n    component: SimpleDataBindingPage\r\n  },\r\n  {\r\n    path: 'data-store-basic',\r\n    component: DataStoreBasicPage\r\n  },\r\n  {\r\n    path: 'data-store-list',\r\n    component: DataStoreListPage\r\n  },\r\n  {\r\n    path: 'data-store-subset',\r\n    component: DataStoreSubsetPage\r\n  },\r\n  {\r\n    path: 'data-store-combined',\r\n    component: DataStoreCombinedPage\r\n  },\r\n  {\r\n    path: 'data-store-multiple',\r\n    component: DataStoreMultiplePage\r\n  },\r\n  {\r\n    path: 'data-store-pagination',\r\n    component: DataStorePaginationPage\r\n  },\r\n  {\r\n    path: 'data-store-stacked',\r\n    component: DataStoreStackedPage\r\n  },\r\n  {\r\n    path: 'data-store-dependant',\r\n    component: DataStoreDependantPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    ComponentsModule\r\n  ],\r\n  declarations: [\r\n    AppShellPage,\r\n    AspectRatioPage,\r\n    ImageShellPage,\r\n    TextShellPage,\r\n    SimpleDataBindingPage,\r\n    DataStoreBasicPage,\r\n    DataStoreListPage,\r\n    DataStoreSubsetPage,\r\n    DataStoreCombinedPage,\r\n    DataStoreMultiplePage,\r\n    DataStorePaginationPage,\r\n    DataStoreStackedPage,\r\n    DataStoreDependantPage\r\n  ],\r\n  providers: [\r\n    ShowcaseService\r\n  ]\r\n})\r\nexport class AppShellModule {}\r\n","import { ShellModel } from '../../shell/data-store';\r\n\r\nexport class TravelItemModel {\r\n  image: string;\r\n  icon: string;\r\n  name: string;\r\n  description: string;\r\n  category: string;\r\n  address: string;\r\n  rating: number;\r\n  reviewsCount: number;\r\n}\r\n\r\nexport class TravelListingModel extends ShellModel {\r\n  items: Array<TravelItemModel> = [\r\n    new TravelItemModel(),\r\n    new TravelItemModel(),\r\n    new TravelItemModel(),\r\n    new TravelItemModel()\r\n  ];\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ShowcaseService } from '../../showcase.service';\r\nimport { DataStore } from '../../../shell/data-store';\r\nimport { ShowcaseCompanyModel } from '../../showcase-shell.model';\r\n\r\n@Component({\r\n  selector: 'app-data-store-subset',\r\n  templateUrl: './data-store-subset.page.html',\r\n  styleUrls: ['./data-store-subset.page.scss'],\r\n})\r\nexport class DataStoreSubsetPage implements OnInit {\r\n\r\n  companyDataStore: DataStore<ShowcaseCompanyModel>;\r\n  company: ShowcaseCompanyModel;\r\n\r\n  constructor(private showcaseService: ShowcaseService) { }\r\n\r\n  ngOnInit() {\r\n\r\n    const dataSource = this.showcaseService.getUserSubsetData(2);\r\n\r\n    const shellModel: ShowcaseCompanyModel = new ShowcaseCompanyModel();\r\n\r\n    this.companyDataStore = new DataStore(shellModel);\r\n    this.companyDataStore.load(dataSource);\r\n\r\n    this.companyDataStore.state.subscribe(data => {\r\n      this.company = data;\r\n    });\r\n  }\r\n\r\n}\r\n","<ion-header>\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button defaultHref=\"showcase/app-shell\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>\r\n      DataStore - Subset example\r\n    </ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"showcase-content\">\r\n  <section class=\"showcase-section\">\r\n    <p>\r\n      Sometimes the data coming from the remote API does not match 100% the model you defined for your view.\r\n    </p>\r\n<pre>\r\nexport class YourModel extends ShellModel &#123;\r\n  cover: string;\r\n  image: string;\r\n  title: string;\r\n  description: string;\r\n&#125;\r\n\r\n// Data coming from the remote API with the following format\r\nconst jsonResponse = &#123;\r\n  name: 'extra-data',\r\n  fields: &#123;\r\n    cover: 'some-image';\r\n    image: 'some-other-image';\r\n    title: 'a-title';\r\n    description: 'a-description';\r\n  &#125;\r\n&#125;;\r\n</pre>\r\n    <p>\r\n      Hopefully, we can use some <b>RxJs operators</b> to mold the data and fit our needs.\r\n    </p>\r\n    <p>\r\n      If thatâ€™s not enough, you can use the handy <a href=\"https://dev.to/napoleon039/how-to-use-the-spread-and-rest-operator-4jbb\" target=\"_blank\"><b>spread</b> and <b>rest</b> operators</a> to mold your data even deeper.\r\n    </p>\r\n<pre>\r\npublic getListDataSource(): Observable&lt;YourModel&gt; &#123;\r\n  const dataObservable = this.http.get('https://reqres.in/api/users');\r\n\r\n  return dataObservable.pipe(\r\n    map((jsonResponse) => &#123;\r\n      const filteredData: YourModel = &#123;\r\n        ...data.fields\r\n      &#125;;\r\n      return filteredData;\r\n    &#125;)\r\n  );\r\n&#125;\r\n</pre>\r\n  </section>\r\n  <div class=\"company\">\r\n    <h4>Company</h4>\r\n    <p>\r\n      <app-text-shell style=\"--text-shell-line-color: #FFF\" [data]=\"company.name\" animation=\"bouncing\"></app-text-shell>\r\n    </p>\r\n    <p>\r\n      <app-text-shell style=\"--text-shell-line-color: #FFF\" [data]=\"company.catchPhrase\" animation=\"bouncing\"></app-text-shell>\r\n    </p>\r\n    <p>\r\n      <app-text-shell style=\"--text-shell-line-color: #FFF\" [data]=\"company.bs\" animation=\"bouncing\"></app-text-shell>\r\n    </p>\r\n  </div>\r\n</ion-content>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ShowcasePostModel, ShowcaseCommentModel } from '../../showcase-shell.model';\r\nimport { ShowcaseService } from '../../showcase.service';\r\nimport { DataStore } from '../../../shell/data-store';\r\n\r\n@Component({\r\n  selector: 'app-data-store-dependant',\r\n  templateUrl: './data-store-dependant.page.html',\r\n  styleUrls: ['./data-store-dependant.page.scss'],\r\n})\r\nexport class DataStoreDependantPage implements OnInit {\r\n\r\n  postDataStore: DataStore<ShowcasePostModel>;\r\n  commentsDataStore: DataStore<Array<ShowcaseCommentModel>>;\r\n  post: ShowcasePostModel;\r\n  comments: Array<ShowcaseCommentModel>;\r\n\r\n  constructor(private showcaseService: ShowcaseService) { }\r\n\r\n  ngOnInit() {\r\n\r\n    const postDataSource = this.showcaseService.getDependantDataSourcePost();\r\n\r\n    const postShellModel: ShowcasePostModel = new ShowcasePostModel();\r\n    this.postDataStore = new DataStore(postShellModel);\r\n    this.postDataStore.load(postDataSource);\r\n    this.postDataStore.state.subscribe(data => {\r\n      this.post = data;\r\n    });\r\n\r\n    const commentsShellModel: Array<ShowcaseCommentModel> = [\r\n      new ShowcaseCommentModel(),\r\n      new ShowcaseCommentModel(),\r\n      new ShowcaseCommentModel()\r\n    ];\r\n\r\n    const commentsDataSource = this.showcaseService.getDependantDataSourcePostComments(this.postDataStore.state);\r\n\r\n    this.commentsDataStore = new DataStore(commentsShellModel);\r\n    // Trigger the loading mechanism (with shell) in the dataStore\r\n    this.commentsDataStore.load(commentsDataSource);\r\n\r\n    this.commentsDataStore.state.subscribe(data => {\r\n      this.comments = data;\r\n    });\r\n\r\n  }\r\n\r\n}\r\n","<ion-header>\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button defaultHref=\"showcase/app-shell\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>\r\n      DataStore - Dependant Data Sources\r\n    </ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"showcase-content\">\r\n  <section class=\"showcase-section\">\r\n    <p>\r\n      This example kinda mixes the two previous examples (<a [routerLink]=\"['/showcase/app-shell/data-store-multiple']\">multiple data stores</a>, <a [routerLink]=\"['/showcase/app-shell/data-store-combined']\">one depending on the other</a>).\r\n    </p>\r\n    <p>\r\n      The uses cases in which to use this approach would be if you have different data sources that depend on each other, but you want the different sections of the view to 're-load' independently one from the other.\r\n    </p>\r\n    <p>\r\n      This contrasts the use case of the <a [routerLink]=\"['/showcase/app-shell/data-store-combined']\">Combined Data Source</a> where you transform multiple data sources into one, causing the hole view to be 're-loaded' as it's binded to just one combined Observable.\r\n    </p>\r\n    <p>\r\n      A good example can be a post and its comments. The comments depend on the post but you want them to 're-load' independently from the post.\r\n    </p>\r\n  </section>\r\n  <div class=\"post\">\r\n    <h4>\r\n      <app-text-shell [data]=\"post?.title\" animation=\"bouncing\" style=\"--text-shell-line-color: #FFF;\"></app-text-shell>\r\n    </h4>\r\n    <p>\r\n      <app-text-shell [data]=\"post?.body\" animation=\"bouncing\" lines=\"3\" style=\"--text-shell-line-color: #fffdfd;\"></app-text-shell>\r\n    </p>\r\n    <h6>Comments</h6>\r\n    <ion-list lines=\"full\" style=\"--background: transparent\">\r\n      <ion-item *ngFor=\"let comment of comments | slice:0:5\">\r\n        <ion-label>\r\n          <h2>\r\n            <app-text-shell [data]=\"comment?.name\" animation=\"bouncing\" style=\"--text-shell-line-height: 16px;\"></app-text-shell>\r\n          </h2>\r\n          <p>\r\n            <app-text-shell [data]=\"comment?.body\" animation=\"bouncing\"></app-text-shell>\r\n          </p>\r\n        </ion-label>\r\n      </ion-item>\r\n    </ion-list>\r\n  </div>\r\n</ion-content>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-text-shell-page',\r\n  templateUrl: './text-shell.page.html',\r\n  styleUrls: ['./text-shell.page.scss'],\r\n})\r\nexport class TextShellPage implements OnInit {\r\n  sampleTextShellData = '';\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<ion-header>\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button defaultHref=\"showcase/app-shell\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>\r\n      Text Shell\r\n    </ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"showcase-content\">\r\n  <section class=\"showcase-section\" style=\"margin-bottom: 40px;\">\r\n    <p>\r\n      This component is useful when you want to show a loading indicator while fetching text data from the server.\r\n    </p>\r\n    <p>\r\n      The <code>&lt;app-text-shell&gt;</code> basically works by wrapping the text node with a loading indicator while you are fetching data.\r\n    </p>\r\n    <p>\r\n      While there are empty values the component adds some 'loading' styles and animations. Whereas while there are non empty values, the loading state is removed.\r\n    </p>\r\n    <p>\r\n      Try toggling the loading state of the text shells below by changing the value of this textarea.\r\n    </p>\r\n  </section>\r\n  <div class=\"loading-state-demo\">\r\n    <section class=\"showcase-section sticky-section\">\r\n      <ion-textarea style=\"--background: #FFF;\" placeholder=\"When this text is empty the text-shell will show the loading state.\" clearOnEdit=\"true\" [(ngModel)]=\"sampleTextShellData\"></ion-textarea>\r\n      <p>\r\n        You can reset the 'loading' state by clearing the textarea value.\r\n      </p>\r\n    </section>\r\n    <section class=\"showcase-section\">\r\n      <h4>No animation (default)</h4>\r\n      <p>\r\n        Single line example\r\n      </p>\r\n      <div style=\"background-color: #FFF; padding: 20px;\">\r\n        <app-text-shell [data]=\"sampleTextShellData\"></app-text-shell>\r\n      </div>\r\n      <p>\r\n        Multi-line example\r\n      </p>\r\n      <div style=\"background-color: #FFF; padding: 20px;\">\r\n        <p>\r\n          <app-text-shell [data]=\"sampleTextShellData\" lines=\"3\"></app-text-shell>\r\n        </p>\r\n      </div>\r\n      <p>\r\n        On top of another element (with transparent background)\r\n      </p>\r\n      <div style=\"background-color: #FFF; padding: 20px; color: #FFF; font-weight: 500;\">\r\n        <app-image-shell animation=\"spinner\" class=\"add-overlay\" [display]=\"'cover'\" [src]=\"'./assets/sample-images/getting-started/category5-1.1.png'\">\r\n          <app-aspect-ratio [ratio]=\"{w:2, h:1}\">\r\n            <p style=\"margin: 20px 40px;\">\r\n              <app-text-shell [data]=\"sampleTextShellData\" lines=\"3\"></app-text-shell>\r\n            </p>\r\n          </app-aspect-ratio>\r\n        </app-image-shell>\r\n      </div>\r\n    </section>\r\n    <section class=\"showcase-section\">\r\n      <h4>Bouncing animation</h4>\r\n      <p>\r\n        Single line example\r\n      </p>\r\n      <div style=\"background-color: #FFF; padding: 20px;\">\r\n        <app-text-shell [data]=\"sampleTextShellData\" animation=\"bouncing\"></app-text-shell>\r\n      </div>\r\n      <p>\r\n        Multi-line example\r\n      </p>\r\n      <div style=\"background-color: #FFF; padding: 20px;\">\r\n        <p>\r\n          <app-text-shell [data]=\"sampleTextShellData\" animation=\"bouncing\" lines=\"3\"></app-text-shell>\r\n        </p>\r\n      </div>\r\n      <p>\r\n        On top of another element (with transparent background)\r\n      </p>\r\n      <div style=\"background-color: #FFF; padding: 20px; color: #FFF; font-weight: 500;\">\r\n        <app-image-shell animation=\"spinner\" class=\"add-overlay\" [display]=\"'cover'\" [src]=\"'./assets/sample-images/getting-started/category5-1.1.png'\">\r\n          <app-aspect-ratio [ratio]=\"{w:2, h:1}\">\r\n            <p style=\"margin: 20px 40px;\">\r\n              <app-text-shell [data]=\"sampleTextShellData\" animation=\"bouncing\" lines=\"3\"></app-text-shell>\r\n            </p>\r\n          </app-aspect-ratio>\r\n        </app-image-shell>\r\n      </div>\r\n      <p>\r\n        <b>Note:</b> As we donâ€™t use masks, this approach works well with use cases that require transparent backgrounds.\r\n      </p>\r\n    </section>\r\n    <section class=\"showcase-section\">\r\n      <h4>Gradient animation</h4>\r\n      <p>\r\n        Single line example\r\n      </p>\r\n      <div style=\"background-color: #FFF; padding: 20px;\">\r\n        <app-text-shell [data]=\"sampleTextShellData\" animation=\"gradient\"></app-text-shell>\r\n      </div>\r\n      <p>\r\n        Multi-line example\r\n      </p>\r\n      <div style=\"background-color: #FFF; padding: 20px;\">\r\n        <p>\r\n          <app-text-shell [data]=\"sampleTextShellData\" animation=\"gradient\" lines=\"3\"></app-text-shell>\r\n        </p>\r\n      </div>\r\n      <p>\r\n        On top of another element (with transparent background)\r\n      </p>\r\n      <div style=\"background-color: #FFF; padding: 20px; color: #FFF; font-weight: 500;\">\r\n        <app-image-shell animation=\"spinner\" class=\"add-overlay\" [display]=\"'cover'\" [src]=\"'./assets/sample-images/getting-started/category5-1.1.png'\">\r\n          <app-aspect-ratio [ratio]=\"{w:2, h:1}\">\r\n            <p style=\"margin: 20px 40px;\">\r\n              <app-text-shell [data]=\"sampleTextShellData\" animation=\"gradient\" lines=\"3\"></app-text-shell>\r\n            </p>\r\n          </app-aspect-ratio>\r\n        </app-image-shell>\r\n      </div>\r\n      <p>\r\n        <b>Side effect:</b> This solution doesnâ€™t play well if you require the <code>&lt;app-text-shell&gt;</code> to have a transparent background as the masks need a solid color to work properly.\r\n      </p>\r\n    </section>\r\n    <section class=\"showcase-section\">\r\n      <h5>Prepend and Append text to the data binded</h5>\r\n      <p>\r\n        There are cases where we need to add some text before or after the value binded to the <code>&lt;app-text-shell&gt;</code>. For example if we are loading a price value and we want to put the '$' before the price.\r\n      </p>\r\n  <pre>\r\n  &lt;app-text-shell [data]=\"<b>(sampleTextShellData) ? '$'.concat(' ', sampleTextShellData) : null</b>\"&gt;&lt;/app-text-shell&gt;\r\n  </pre>\r\n      <div style=\"background-color: #FFF; padding: 20px;\">\r\n        <app-text-shell [data]=\"(sampleTextShellData) ? '$'.concat(' ', sampleTextShellData) : null\"></app-text-shell>\r\n      </div>\r\n<pre>\r\n&lt;app-text-shell [data]=\"<b>(sampleTextShellData) ? sampleTextShellData.concat(' years old') : null</b>\"&gt;&lt;/app-text-shell&gt;\r\n</pre>\r\n      <div style=\"background-color: #FFF; padding: 20px;\">\r\n        <app-text-shell [data]=\"(sampleTextShellData) ? sampleTextShellData.concat(' years old') : null\"></app-text-shell>\r\n      </div>\r\n    </section>\r\n  </div>\r\n  <section class=\"showcase-section\">\r\n    <h4>Other use cases</h4>\r\n    <p>\r\n      The <code>&lt;app-text-shell&gt;</code> element can be used alone or wrapped with a text tag (<b>h1</b>, <b>h2</b>, <b>h3</b>, <b>p</b>, etc).\r\n    </p>\r\n    <p>\r\n      In case you wrap it with a heading element, we included basic styles (<code>src/theme/shell-defaults.scss</code>) to match the different heading styles (mainly line-height associated to each heading).\r\n    </p>\r\n<pre>\r\n:root &#123;\r\n  h1 > app-text-shell &#123;\r\n    --text-shell-line-height: 32px;\r\n    --text-shell-line-color: #CCC;\r\n  &#125;\r\n&#125;\r\n</pre>\r\n    <p>\r\n      By matching the line-height of the text-shell with the line-height of the wrapper element, we avoid page height bumps after the data gets loaded into the shells.\r\n    </p>\r\n<pre>\r\n&lt;h1&gt;\r\n  &lt;app-text-shell [data]=\"\"&gt;&lt;/app-text-shell&gt;\r\n&lt;/h1&gt;\r\n\r\n&lt;h2&gt;\r\n  &lt;app-text-shell [data]=\"\"&gt;&lt;/app-text-shell&gt;\r\n&lt;/h2&gt;\r\n\r\n&lt;h3&gt;\r\n  &lt;app-text-shell [data]=\"\"&gt;&lt;/app-text-shell&gt;\r\n&lt;/h3&gt;\r\n\r\n&lt;h4&gt;\r\n  &lt;app-text-shell [data]=\"\"&gt;&lt;/app-text-shell&gt;\r\n&lt;/h4&gt;\r\n\r\n&lt;h5&gt;\r\n  &lt;app-text-shell [data]=\"\"&gt;&lt;/app-text-shell&gt;\r\n&lt;/h5&gt;\r\n</pre>\r\n    <h1>\r\n      <app-text-shell [data]=\"\"></app-text-shell>\r\n    </h1>\r\n    <h2>\r\n      <app-text-shell [data]=\"\"></app-text-shell>\r\n    </h2>\r\n    <h3>\r\n      <app-text-shell [data]=\"\"></app-text-shell>\r\n    </h3>\r\n    <h4>\r\n      <app-text-shell [data]=\"\"></app-text-shell>\r\n    </h4>\r\n    <h5>\r\n      <app-text-shell [data]=\"\"></app-text-shell>\r\n    </h5>\r\n  </section>\r\n  <section class=\"showcase-section\">\r\n    <p>\r\n      You can add/remove the following <b>Attributes</b> to adjust the shell element behavior\r\n    </p>\r\n    <h5>Multi-line support</h5>\r\n    <p>\r\n      You can set up-to 6 lines\r\n    </p>\r\n<pre>\r\n&lt;p&gt;\r\n  &lt;app-text-shell <b>lines=\"6\"</b> [data]=\"\"&gt;&lt;/app-text-shell&gt;\r\n&lt;/p&gt;\r\n</pre>\r\n    <p>\r\n      <app-text-shell style=\"--text-shell-line-color: #DDD;\" [data]=\"\" lines=\"6\"></app-text-shell>\r\n    </p>\r\n    <h5>Set different animation options</h5>\r\n    <p>\r\n      You can choose between <b>no animation</b> (default), <b>bouncing animation</b>, and <b>gradient background with line masks on top</b>\r\n    </p>\r\n<pre>\r\n&lt;p&gt;\r\n  &lt;app-text-shell <b>animation=\"bouncing\"</b> lines=\"2\" [data]=\"\"&gt;&lt;/app-text-shell&gt;\r\n&lt;/p&gt;\r\n</pre>\r\n    <p>\r\n      <app-text-shell style=\"--text-shell-line-color: #DDD;\" [data]=\"\" animation=\"bouncing\" lines=\"2\"></app-text-shell>\r\n    </p>\r\n<pre>\r\n&lt;p&gt;\r\n  &lt;app-text-shell <b>animation=\"gradient\"</b> lines=\"2\" [data]=\"\"&gt;&lt;/app-text-shell&gt;\r\n&lt;/p&gt;\r\n</pre>\r\n<pre>\r\napp-text-shell &#123;\r\n  --text-shell-background: #FFF;\r\n  --text-shell-line-color: transparent;\r\n&#125;\r\n</pre>\r\n    <p style=\"padding: 5px; background: #FFF;\">\r\n      <app-text-shell style=\"--text-shell-line-color: transparent; --text-shell-background: #FFF;\" [data]=\"\" animation=\"gradient\" lines=\"2\"></app-text-shell>\r\n    </p>\r\n    <p>\r\n      In this mode, the <code>--text-shell-background</code> property refers to the masks colors.\r\n    </p>\r\n    <p>\r\n      <b>Note:</b> When using a <code>gradient</code> animation, make sure you set the line-color to transparent so the background animation that's beneath the masks can be seen.\r\n    </p>\r\n  </section>\r\n  <section class=\"showcase-section\">\r\n    <p>\r\n      You can also override these <b>CSS 4 variables</b> to adjust the shell element style\r\n    </p>\r\n    <h5>Line color</h5>\r\n<pre>\r\napp-text-shell &#123;\r\n  --text-shell-line-color: rgba(233, 30, 99, .25);\r\n&#125;\r\n</pre>\r\n    <h3>\r\n      <app-text-shell style=\"--text-shell-line-color: rgba(233, 30, 99, .25);\" [data]=\"\"></app-text-shell>\r\n    </h3>\r\n    <h5>Background</h5>\r\n    <p>\r\n      Background by default is set to <b>transparent</b>.\r\n    </p>\r\n<pre>\r\napp-text-shell &#123;\r\n  --text-shell-line-color: #FFFFFF;\r\n  --text-shell-background: #000000;\r\n&#125;\r\n</pre>\r\n    <p style=\"padding: 5px; background: #000000;\">\r\n      <app-text-shell style=\"--text-shell-line-color: #FFFFFF; --text-shell-background: #000000;\" [data]=\"\" lines=\"3\"></app-text-shell>\r\n    </p>\r\n    <h5>Background Animation</h5>\r\n    <p>\r\n      <b>Note:</b> These properties are only applied when using <code>animation=\"gradient\"</code>.\r\n    </p>\r\n<pre>\r\napp-text-shell &#123;\r\n  --text-shell-line-color: transparent;\r\n  --text-shell-background: #000000;\r\n  --text-shell-animation-background: rgba(255, 3, 109, 0.6);\r\n  --text-shell-animation-color: rgba(156, 4, 68, 0.7);\r\n&#125;\r\n</pre>\r\n    <p style=\"padding: 5px; background: #000000;\">\r\n      <app-text-shell style=\"\r\n        --text-shell-line-color: transparent;\r\n        --text-shell-background: #000000;\r\n        --text-shell-animation-background: rgba(255, 3, 109, 0.6);\r\n        --text-shell-animation-color: rgba(156, 4, 68, 0.7);\r\n      \" [data]=\"\" lines=\"3\" animation=\"gradient\"></app-text-shell>\r\n    </p>\r\n    <h5>Line height</h5>\r\n<pre>\r\napp-text-shell &#123;\r\n  --text-shell-line-height: 40px;\r\n&#125;\r\n</pre>\r\n    <h3>\r\n      <app-text-shell style=\"--text-shell-line-height: 40px;\" [data]=\"\"></app-text-shell>\r\n    </h3>\r\n    <h5>Line gutter</h5>\r\n<pre>\r\napp-text-shell &#123;\r\n  --text-shell-line-gutter: 10px;\r\n&#125;\r\n</pre>\r\n    <p>\r\n      <app-text-shell style=\"--text-shell-line-gutter: 10px; --text-shell-line-color: #CCC;\" [data]=\"\" lines=\"4\"></app-text-shell>\r\n    </p>\r\n  </section>\r\n  <section class=\"showcase-section\">\r\n    <h5>Max-width</h5>\r\n    <p>\r\n      By default, the <code>&lt;app-text-shell&gt;</code> element will fill it's container width. You can adjust this by setting a temporary <code>max-width</code> while the shell loading state is present.\r\n    </p>\r\n<pre>\r\n.sample-text-max-width &gt; app-text-shell &#123;\r\n  <b>max-width: 50%;</b>\r\n\r\n  &.text-loaded &#123;\r\n    <b>max-width: unset;</b>\r\n  &#125;\r\n&#125;\r\n</pre>\r\n    <div class=\"sample-text-max-width\">\r\n      <app-text-shell [data]=\"sampleTextShellData\"></app-text-shell>\r\n    </div>\r\n    <h5>Min-width</h5>\r\n    <p>\r\n      When the <code>&lt;app-text-shell&gt;</code> parent container doesn't have a width defined, it may happen that the <code>&lt;app-text-shell&gt;</code> inherits an undefined width and thus it's not shown.\r\n    </p>\r\n    <p>In these cases setting a temporary <code>min-width</code> fixes the issue.</p>\r\n    <p>\r\n      <b>Note:</b> If the parent doesn't have a defined width, it will fail to set a min-width based on a percentage of it's parents width. You will have to use absolute units (px, ch, etc).\r\n    </p>\r\n<pre>\r\n.sample-text-min-width &gt; app-text-shell &#123;\r\n  <b>min-width: 80px;</b>\r\n\r\n  &.text-loaded &#123;\r\n    <b>min-width: 0px;</b>\r\n  &#125;\r\n&#125;\r\n</pre>\r\n    <span class=\"sample-text-min-width\" style=\"display: inline-block;\">\r\n      <app-text-shell [data]=\"sampleTextShellData\"></app-text-shell>\r\n    </span>\r\n  </section>\r\n</ion-content>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Observable, interval, timer } from 'rxjs';\r\nimport { takeUntil, finalize, take } from 'rxjs/operators';\r\n\r\nimport { ShowcaseShellModel } from '../../showcase-shell.model';\r\nimport { ShowcaseService } from '../../showcase.service';\r\n\r\n@Component({\r\n  selector: 'app-simple-data-binding',\r\n  templateUrl: './simple-data-binding.page.html',\r\n  styleUrls: ['./simple-data-binding.page.scss'],\r\n})\r\nexport class SimpleDataBindingPage implements OnInit {\r\n  // We will manually fetch data using the HttpClient and assign it to this property\r\n  simpleFetchData: ShowcaseShellModel;\r\n\r\n  // Aux properties for the Simple Fetch (HttpClient) showcase\r\n  simpleFetchButtonDisabled = true;\r\n  simpleFetchCountdown = 0;\r\n  simpleFetchInterval: Observable<any>;\r\n\r\n  constructor(private showcaseService: ShowcaseService) { }\r\n\r\n  ngOnInit() {\r\n    this.showcaseShellSimpleFetch(10);\r\n  }\r\n\r\n  showcaseShellSimpleFetch(countdown: number): void {\r\n    // Assign an (empty / null) value to the shell object to restore it's 'loading' state\r\n    this.simpleFetchData = null;\r\n\r\n    // Prevent rage clicks on the 'Fetch more Data' button\r\n    this.simpleFetchButtonDisabled = true;\r\n\r\n    // Start a countdown and an interval before executing the fetch function\r\n    this.simpleFetchCountdown = countdown;\r\n    this.simpleFetchInterval = interval(1000);\r\n\r\n    // Start a countdown to showcase the shell elements animations for a few seconds before the data get's fetched into the shell object\r\n    const timer$ = timer(countdown * 1000);\r\n    // When timer emits after X seconds, complete source\r\n    this.simpleFetchInterval\r\n    .pipe(\r\n      takeUntil(timer$),\r\n      finalize(() => this.simpleFetchButtonDisabled = false)\r\n    )\r\n    .subscribe({\r\n      next: () => {\r\n        this.simpleFetchCountdown --;\r\n      },\r\n      complete: () => {\r\n        this.simpleFetchCountdown = 0;\r\n        // Once the countdown ends, fetch data using the HttpClient\r\n        this.showcaseService.getSimpleDataSource()\r\n        .pipe(\r\n          take(1) // Force Observable to complete\r\n        ).subscribe(val => {\r\n          console.log('Fetching shell data using the HttpClient', val);\r\n          this.simpleFetchData = val;\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button defaultHref=\"showcase/app-shell\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>\r\n      Simple Data Binding\r\n    </ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"showcase-content\">\r\n  <section class=\"showcase-section\">\r\n    <b>Back to basics ...</b>\r\n    <p>\r\n      We can tweak our data stream with some RxJs operators and achieve an app shell loading interaction\r\n    </p>\r\n    <p>\r\n      Let's set a timeout and fetch data using the <code>HttpClient</code>\r\n    </p>\r\n    <p>\r\n      Data coming in <b>{{ simpleFetchCountdown }} seconds</b>\r\n    </p>\r\n    <ion-row style=\"background-color: #FFF; padding: 10px; margin: 20px;\">\r\n      <ion-col size=\"12\">\r\n        <app-image-shell animation=\"gradient\" class=\"add-overlay\" [display]=\"'cover'\" [src]=\"simpleFetchData?.cover\" [alt]=\"'Sample Image Cover'\">\r\n          <app-aspect-ratio [ratio]=\"{w:2, h:1}\">\r\n            <h4 style=\"margin: 10px; text-align: center; color: #FFF;\">Heading on top of a cover image</h4>\r\n          </app-aspect-ratio>\r\n        </app-image-shell>\r\n      </ion-col>\r\n      <ion-col size=\"4\">\r\n        <app-aspect-ratio [ratio]=\"{w:1, h:1}\">\r\n          <app-image-shell animation=\"gradient\" [src]=\"simpleFetchData?.image\" [alt]=\"'Sample Image'\"></app-image-shell>\r\n        </app-aspect-ratio>\r\n      </ion-col>\r\n      <ion-col size=\"8\">\r\n        <h3 style=\"margin-top: 0px;\">\r\n          <app-text-shell animation=\"gradient\" [data]=\"simpleFetchData?.title\"></app-text-shell>\r\n        </h3>\r\n        <p>\r\n          <app-text-shell animation=\"gradient\" [data]=\"simpleFetchData?.description\" lines=\"3\"></app-text-shell>\r\n        </p>\r\n      </ion-col>\r\n    </ion-row>\r\n    <ion-button (click)=\"showcaseShellSimpleFetch(3)\" [disabled]=\"simpleFetchButtonDisabled\">Fetch more Data</ion-button>\r\n  </section>\r\n</ion-content>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Observable, of, ReplaySubject, Subject, merge } from 'rxjs';\r\n\r\nimport { ShowcaseShellUserModel } from '../../showcase-shell.model';\r\nimport { ShowcaseService } from '../../showcase.service';\r\n\r\nimport { DataStore } from '../../../shell/data-store';\r\nimport { switchMap } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-data-store-stacked',\r\n  templateUrl: './data-store-stacked.page.html',\r\n  styleUrls: ['./data-store-stacked.page.scss'],\r\n})\r\nexport class DataStoreStackedPage implements OnInit {\r\n  // View model\r\n  stackedUsers: Array<Observable<ShowcaseShellUserModel>> = [];\r\n  shellUsers: Array<Observable<ShowcaseShellUserModel>> = [];\r\n  // View data store (it's an open stream of data)\r\n  openDataStore: DataStore<Array<ShowcaseShellUserModel>>;\r\n\r\n  // Emulate a tream of events that trigger the loading of new items\r\n  triggerNewItemsLoading: Subject<any> = new Subject<any>();\r\n  newItemsTriggerObservable: Observable<any> = this.triggerNewItemsLoading.asObservable();\r\n\r\n  constructor(private showcaseService: ShowcaseService) { }\r\n\r\n  ngOnInit() {\r\n    const openDataStream = this.showcaseService.getOpenDataStream();\r\n\r\n    if (!this.openDataStore) {\r\n      // Initialize the model specifying that it is a shell model\r\n      const shellModel: Array<ShowcaseShellUserModel> = [\r\n        new ShowcaseShellUserModel(),\r\n        new ShowcaseShellUserModel(),\r\n        new ShowcaseShellUserModel(),\r\n        new ShowcaseShellUserModel()\r\n      ];\r\n      this.openDataStore = new DataStore(shellModel);\r\n      // Trigger the loading mechanism (with shell) in the dataStore\r\n      this.openDataStore.load(openDataStream);\r\n    }\r\n\r\n    // Each time the user triggers the loading of new items, ask the service to get those new items\r\n    const newDataObservable = this.newItemsTriggerObservable.pipe(\r\n      switchMap(() => {\r\n        const newValuesObservable = this.showcaseService.getStackedValuesDataSource();\r\n\r\n        const newDataShell = [\r\n          new ShowcaseShellUserModel(),\r\n          new ShowcaseShellUserModel()\r\n        ];\r\n\r\n        const newValuesWithShellObservable = DataStore.AppendShell(newValuesObservable, newDataShell, 400);\r\n\r\n        return newValuesWithShellObservable;\r\n      })\r\n    );\r\n\r\n    merge(\r\n      this.openDataStore.state,\r\n      newDataObservable\r\n    )\r\n    .subscribe(data => {\r\n      console.log('data', data);\r\n\r\n      if (data.isShell) {\r\n        const shellsAsObservables = [...data].map((val) => {\r\n          // Transform plain shell values into async Observables (to comply with the layout markup)\r\n          return of(val);\r\n        });\r\n\r\n        // When loading new data, override the shellUsers property\r\n        this.shellUsers = shellsAsObservables;\r\n      } else {\r\n        // Clear shellUsers property\r\n        this.shellUsers = [];\r\n\r\n        const dataWithShell = [...data].map((val) => {\r\n          // Transform plain values into async Observables (to comply with the layout markup)\r\n          return DataStore.AppendShell(of(val), new ShowcaseShellUserModel(), 400);\r\n        });\r\n\r\n        // Concat data to existing stackedUsers property\r\n        this.stackedUsers.push(...dataWithShell);\r\n      }\r\n    });\r\n  }\r\n\r\n  loadStackedResults(): void {\r\n    this.triggerNewItemsLoading.next();\r\n  }\r\n\r\n  pushValuesToOpenStream(): void {\r\n    this.showcaseService.pushValuesToOpenStream();\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button defaultHref=\"showcase/app-shell\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>\r\n      DataStore - Stacked shells example\r\n    </ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"showcase-content\">\r\n  <section class=\"showcase-section\">\r\n    <p>\r\n      Once you have values coming from the initial data stream, the shell animation would be off. If its an <b>open stream</b>, then each time a new value arrives, it will be added to the view state without the shell animation.\r\n    </p>\r\n    <p>\r\n      This example is handy If you want to change the default functionality and apply independent shell animations to each value coming from the <b>open data stream</b>.\r\n    </p>\r\n    <p>\r\n      It's also a good example if you want to implement an <b>infinite scroll</b> feature.\r\n    </p>\r\n    <p>\r\n      <b>Note:</b> For this to work we will be transforming plain values into Observables, thus the need to update our markup and specify the binded model as async.\r\n    </p>\r\n<pre>\r\n&lt;h3&gt;\r\n  &lt;app-text-shell [data]=\"<b>(user | async)?</b>.first_name\">&lt;/app-text-shell&gt;\r\n&lt;/h3&gt;\r\n&lt;p&gt;\r\n  &lt;app-text-shell [data]=\"<b>(user | async)?</b>.last_name\" lines=\"3\">&lt;/app-text-shell&gt;\r\n&lt;/p&gt;\r\n</pre>\r\n    <p>\r\n      Also as we are dealing with a mix of shell models and real values that get stacked one after the other, we need to have two seperate lists. One to show the shell values and another to contain the stacked values.\r\n    </p>\r\n  </section>\r\n\r\n  <ng-template #userTemplate let-user=\"user\">\r\n    <ion-row style=\"background-color: #FFF; padding: 10px;\">\r\n      <ion-col size=\"4\">\r\n        <app-aspect-ratio [ratio]=\"{w:1, h:1}\">\r\n          <app-image-shell animation=\"spinner\" [src]=\"(user | async)?.avatar\" [alt]=\"'Sample Image'\"></app-image-shell>\r\n        </app-aspect-ratio>\r\n      </ion-col>\r\n      <ion-col size=\"8\">\r\n        <h3 style=\"margin-top: 0px;\">\r\n          <app-text-shell [data]=\"(user | async)?.first_name\"></app-text-shell>\r\n        </h3>\r\n        <p>\r\n          <app-text-shell [data]=\"(user | async)?.last_name\" lines=\"3\"></app-text-shell>\r\n        </p>\r\n      </ion-col>\r\n    </ion-row>\r\n  </ng-template>\r\n\r\n  <div class=\"stacked-items-demo\">\r\n    <section class=\"showcase-section sticky-section\">\r\n      <ion-row>\r\n        <ion-col size=\"12\">\r\n          <ion-button (click)=\"pushValuesToOpenStream()\">Push values to open stream</ion-button>\r\n        </ion-col>\r\n        <ion-col size=\"12\">\r\n          <ion-button (click)=\"loadStackedResults()\">Load New Values</ion-button>\r\n        </ion-col>\r\n      </ion-row>\r\n    </section>\r\n\r\n    <section class=\"showcase-section\">\r\n      <div *ngFor=\"let user of stackedUsers\">\r\n        <ng-container *ngTemplateOutlet=\"userTemplate; context: { user: user }\"></ng-container>\r\n      </div>\r\n      <div *ngFor=\"let user of shellUsers\">\r\n        <ng-container *ngTemplateOutlet=\"userTemplate; context: { user: user }\"></ng-container>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</ion-content>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { take, finalize } from 'rxjs/operators';\r\n\r\nimport { ShowcaseShellModel } from '../../showcase-shell.model';\r\nimport { ShowcaseService } from '../../showcase.service';\r\n\r\nimport { DataStore } from '../../../shell/data-store';\r\n\r\n@Component({\r\n  selector: 'app-data-store-basic',\r\n  templateUrl: './data-store-basic.page.html',\r\n  styleUrls: ['./data-store-basic.page.scss'],\r\n})\r\nexport class DataStoreBasicPage implements OnInit {\r\n  // Fetch data with the DataStore utility and assign it to this property\r\n  // DataStore data is async (Observable)\r\n  dataStoreData: ShowcaseShellModel;\r\n  dataStoreButtonDisabled = true;\r\n\r\n  constructor(private showcaseService: ShowcaseService) { }\r\n\r\n  ngOnInit() {\r\n    this.showcaseDataStore();\r\n  }\r\n\r\n  showcaseDataStore(): void {\r\n    // Prevent rage clicks on the 'Fetch more Data' button\r\n    this.dataStoreButtonDisabled = true;\r\n\r\n    const dataSource = this.showcaseService.getSimpleDataSource();\r\n\r\n    // Initialize the model specifying that it is a shell model\r\n    const shellModel: ShowcaseShellModel = new ShowcaseShellModel();\r\n    const dataStore = new DataStore(shellModel);\r\n    // Trigger the loading mechanism (with shell) in the dataStore\r\n    dataStore.load(dataSource);\r\n\r\n    dataStore.state.pipe(\r\n      take(2), // DataStore will emit a mock object and the real data fetched from the source. Emit those two values and then complete.\r\n      finalize(() => this.dataStoreButtonDisabled = false)\r\n    ).subscribe(data => {\r\n      this.dataStoreData = data;\r\n    });\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button defaultHref=\"showcase/app-shell\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>\r\n      DataStore - Basic example\r\n    </ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"showcase-content\">\r\n  <section class=\"showcase-section\">\r\n    <p>\r\n      Using the <code>DataStore</code> utility you can keep track and append shell values to the data stream.\r\n    </p>\r\n    <p>\r\n      This drastically reduces the boilerplate needed to add app shell loading interactions to your app.\r\n    </p>\r\n    <ion-row style=\"background-color: #FFF; padding: 10px; margin: 20px;\">\r\n      <ion-col size=\"12\">\r\n        <app-image-shell animation=\"spinner\" class=\"add-overlay\" [display]=\"'cover'\" [src]=\"dataStoreData?.cover\" [alt]=\"'Sample Image Cover'\">\r\n          <app-aspect-ratio [ratio]=\"{w:2, h:1}\">\r\n            <h4 style=\"margin: 10px; text-align: center; color: #FFF;\">Heading on top of a cover image</h4>\r\n          </app-aspect-ratio>\r\n        </app-image-shell>\r\n      </ion-col>\r\n      <ion-col size=\"4\">\r\n        <app-aspect-ratio [ratio]=\"{w:1, h:1}\">\r\n          <app-image-shell animation=\"spinner\" [src]=\"dataStoreData?.image\" [alt]=\"'Sample Image'\"></app-image-shell>\r\n        </app-aspect-ratio>\r\n      </ion-col>\r\n      <ion-col size=\"8\">\r\n        <h3 style=\"margin-top: 0px;\">\r\n          <app-text-shell [data]=\"dataStoreData?.title\"></app-text-shell>\r\n        </h3>\r\n        <p>\r\n          <app-text-shell [data]=\"dataStoreData?.description\" lines=\"3\"></app-text-shell>\r\n        </p>\r\n      </ion-col>\r\n    </ion-row>\r\n    <ion-button (click)=\"showcaseDataStore()\" [disabled]=\"dataStoreButtonDisabled\">Fetch more Data</ion-button>\r\n  </section>\r\n</ion-content>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-showcase-shell',\r\n  templateUrl: './app-shell.page.html',\r\n  styleUrls: ['./app-shell.page.scss']\r\n})\r\nexport class AppShellPage implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-menu-button></ion-menu-button>\r\n    </ion-buttons>\r\n    <ion-title>\r\n      App Shell\r\n    </ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"showcase-content\">\r\n  <section class=\"showcase-section\" style=\"margin-bottom: 20px;\">\r\n    <p>\r\n      After analyzing multiple use cases, we realized most UIs can be deconstructed into two data bindable element primitives: <b>text</b> and <b>images</b>.\r\n    </p>\r\n    <p>\r\n      These <b>Shell Elements</b> are the building blocks to display loading states.\r\n    </p>\r\n  </section>\r\n  <ion-item-divider sticky=\"true\">\r\n    <ion-label>Shell Elements</ion-label>\r\n  </ion-item-divider>\r\n  <ion-list>\r\n    <ion-item [routerLink]=\"['/showcase/app-shell/aspect-ratio']\" detail=\"true\">\r\n      <ion-label>Aspect Ratio</ion-label>\r\n    </ion-item>\r\n    <ion-item [routerLink]=\"['/showcase/app-shell/image-shell']\" detail=\"true\">\r\n      <ion-label>Image Shell</ion-label>\r\n    </ion-item>\r\n    <ion-item [routerLink]=\"['/showcase/app-shell/text-shell']\" detail=\"true\">\r\n      <ion-label>Text Shell</ion-label>\r\n    </ion-item>\r\n  </ion-list>\r\n\r\n  <section class=\"showcase-section\">\r\n    <p>\r\n      You can combine the different shell elements in multiple ways to fit your needs\r\n    </p>\r\n    <ion-row style=\"background-color: #FFF; padding: 10px; margin: 20px;\">\r\n      <ion-col size=\"12\">\r\n        <app-image-shell animation=\"spinner\" class=\"add-overlay\" [display]=\"'cover'\" [src]=\"\">\r\n          <app-aspect-ratio [ratio]=\"{w:2, h:1}\">\r\n            <h4 style=\"margin: 10px; text-align: center;\">Text on top of a background-image container</h4>\r\n          </app-aspect-ratio>\r\n        </app-image-shell>\r\n      </ion-col>\r\n      <ion-col size=\"4\">\r\n        <app-aspect-ratio [ratio]=\"{w:1, h:1}\">\r\n          <app-image-shell animation=\"spinner\" [src]=\"\" [alt]=\"'Sample Image'\"></app-image-shell>\r\n        </app-aspect-ratio>\r\n      </ion-col>\r\n      <ion-col size=\"8\">\r\n        <h3 style=\"margin-top: 0px;\">\r\n          <app-text-shell [data]=\"\"></app-text-shell>\r\n        </h3>\r\n        <p>\r\n          <app-text-shell [data]=\"\" lines=\"3\"></app-text-shell>\r\n        </p>\r\n      </ion-col>\r\n    </ion-row>\r\n  </section>\r\n\r\n  <section class=\"showcase-section\" style=\"margin-bottom: 20px;\">\r\n    <p>\r\n      By following the reactive programming paradigm to handle asynchronous data streams, we can use <b>Observables</b> to manage the different states (loading / loaded) of the data binded to our shell elements.\r\n    </p>\r\n    <p>\r\n      <b>Note:</b> If you are new to reactive programming in Javascript, I strongly recommend you to read <a href=\"https://dev.to/sagar/reactive-programming-in-javascript-with-rxjs-4jom\" target=\"_blank\">this guide</a>.\r\n    </p>\r\n  </section>\r\n  <ion-item-divider sticky=\"true\">\r\n    <ion-label>Simple Data Binding</ion-label>\r\n  </ion-item-divider>\r\n  <ion-list>\r\n    <ion-item [routerLink]=\"['/showcase/app-shell/simple-data-binding']\" detail=\"true\">\r\n      <ion-label>Data Binding using plain Observables</ion-label>\r\n    </ion-item>\r\n  </ion-list>\r\n\r\n  <section class=\"showcase-section\" style=\"margin-bottom: 20px;\">\r\n    <p>\r\n      You can go a step further and use our <b>DataStore</b> class which provides extra functionalities to plain Observables.\r\n    </p>\r\n    <p>\r\n      The main responsability of the <b>DataStore</b> is to store the data stream in a <code>timeline</code> property and append shell values to the Observable data sources through the <code>AppendShell</code> static method.\r\n    </p>\r\n  </section>\r\n  <ion-item-divider sticky=\"true\">\r\n    <ion-label>Data Binding with DataStore</ion-label>\r\n  </ion-item-divider>\r\n  <ion-list>\r\n    <ion-item [routerLink]=\"['/showcase/app-shell/data-store-basic']\" detail=\"true\">\r\n      <ion-label>Basic</ion-label>\r\n    </ion-item>\r\n    <ion-item [routerLink]=\"['/showcase/app-shell/data-store-list']\" detail=\"true\">\r\n      <ion-label>List</ion-label>\r\n    </ion-item>\r\n    <ion-item [routerLink]=\"['/showcase/app-shell/data-store-subset']\" detail=\"true\">\r\n      <ion-label>Filtered Data Source</ion-label>\r\n    </ion-item>\r\n    <ion-item [routerLink]=\"['/showcase/app-shell/data-store-combined']\" detail=\"true\">\r\n      <ion-label>Combined Data Sources</ion-label>\r\n    </ion-item>\r\n    <ion-item [routerLink]=\"['/showcase/app-shell/data-store-multiple']\" detail=\"true\">\r\n      <ion-label>Multiple Data Stores</ion-label>\r\n    </ion-item>\r\n    <ion-item [routerLink]=\"['/showcase/app-shell/data-store-dependant']\" detail=\"true\">\r\n      <ion-label>Dependant Data Sources</ion-label>\r\n    </ion-item>\r\n    <ion-item [routerLink]=\"['/showcase/app-shell/data-store-pagination']\" detail=\"true\">\r\n      <ion-label>Pagination</ion-label>\r\n    </ion-item>\r\n    <ion-item [routerLink]=\"['/showcase/app-shell/data-store-stacked']\" detail=\"true\">\r\n      <ion-label>Stacked Shells</ion-label>\r\n    </ion-item>\r\n  </ion-list>\r\n  <section class=\"showcase-section\" style=\"margin-bottom: 20px;\">\r\n    <p>\r\n      We double down on adding as many examples as possible on how to use the <b>App Shell</b>. However, if you have a use case that doesn't fall under the examples list, please let us know so we can keep improving the product.\r\n    </p>\r\n  </section>\r\n</ion-content>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Observable, Subject, merge } from 'rxjs';\r\nimport { switchMap } from 'rxjs/operators';\r\n\r\nimport { ShowcaseShellUserModel } from '../../showcase-shell.model';\r\nimport { ShowcaseService } from '../../showcase.service';\r\n\r\nimport { DataStore, ShellModel } from '../../../shell/data-store';\r\n\r\n@Component({\r\n  selector: 'app-data-store-pagination',\r\n  templateUrl: './data-store-pagination.page.html',\r\n  styleUrls: ['./data-store-pagination.page.scss'],\r\n})\r\nexport class DataStorePaginationPage implements OnInit {\r\n  // View model\r\n  pagedUsers: Array<ShowcaseShellUserModel> & ShellModel;\r\n\r\n  // View data store\r\n  remoteApiDataStore: DataStore<Array<ShowcaseShellUserModel>>;\r\n\r\n  loadMorePages = true;\r\n  currentPage = 0;\r\n\r\n  triggerNewPageLoading: Subject<any> = new Subject<any>();\r\n  newPageTriggerObservable: Observable<any> = this.triggerNewPageLoading.asObservable();\r\n\r\n  constructor(private showcaseService: ShowcaseService) { }\r\n\r\n  ngOnInit() {\r\n    const dataSource = this.showcaseService.getPaginationDataSource(1);\r\n\r\n    if (!this.remoteApiDataStore) {\r\n      // Initialize the model specifying that it is a shell model\r\n      const shellModel: Array<ShowcaseShellUserModel> = [\r\n        new ShowcaseShellUserModel(),\r\n        new ShowcaseShellUserModel()\r\n      ];\r\n      this.remoteApiDataStore = new DataStore(shellModel);\r\n      // Trigger the loading mechanism (with shell) in the dataStore\r\n      this.remoteApiDataStore.load(dataSource);\r\n    }\r\n\r\n    const newDataObservable = this.newPageTriggerObservable.pipe(\r\n      switchMap((pageNumber) => {\r\n        const pageDataSource = this.showcaseService.getPaginationDataSource(pageNumber);\r\n        const newDataShell = [\r\n          new ShowcaseShellUserModel(),\r\n          new ShowcaseShellUserModel(),\r\n          new ShowcaseShellUserModel()\r\n        ];\r\n\r\n        const dataSourceWithShellObservable = DataStore.AppendShell(pageDataSource, newDataShell, 400);\r\n\r\n        return dataSourceWithShellObservable;\r\n      })\r\n    );\r\n\r\n    merge(\r\n      this.remoteApiDataStore.state,\r\n      newDataObservable\r\n    )\r\n    .subscribe(result => {\r\n      console.log('result', result);\r\n\r\n      // When successfully load next page, update currentPage pointer\r\n      if (!result.isShell && result.length > 0) {\r\n        this.currentPage ++;\r\n      }\r\n\r\n      if (this.loadMorePages) {\r\n        this.pagedUsers = result;\r\n      }\r\n\r\n      if (this.currentPage === 4) {\r\n        this.loadMorePages = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  getNextPageUsers(): void {\r\n    this.triggerNewPageLoading.next(this.currentPage + 1);\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button defaultHref=\"showcase/app-shell\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>\r\n      DataStore - Pagination example\r\n    </ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"showcase-content\">\r\n  <section class=\"showcase-section\">\r\n    <p>\r\n      This example is useful for use cases that require the data stream to be updated based on user actions. <i>Pagination</i> and <i>filtering</i> are the clear use cases that come to my mind.\r\n    </p>\r\n    <p>\r\n      For these use cases you get the initial data stream and then, upon user interaction, you request an update for that stream. For example requesting your remote API for the next page of results or a filtered set of results.\r\n    </p>\r\n    <p>\r\n      This example shows you how to merge the initial data stream with future data streams that may arise from user interaction.\r\n    </p>\r\n    <p>\r\n      <b>Current page: {{ currentPage }}</b>\r\n      <span *ngIf=\"!loadMorePages\" style=\"margin-inline-start: 10px;\"><small>(No more pages available)</small></span>\r\n    </p>\r\n    <p>\r\n      <small>Each time you click the button we fetch users from the next page.</small>\r\n    </p>\r\n    <ion-row style=\"background-color: #FFF; padding: 10px;\" *ngFor=\"let user of pagedUsers\">\r\n      <ion-col size=\"4\">\r\n        <app-aspect-ratio [ratio]=\"{w:1, h:1}\">\r\n          <app-image-shell animation=\"spinner\" [src]=\"user?.avatar\" [alt]=\"'Sample Image'\"></app-image-shell>\r\n        </app-aspect-ratio>\r\n      </ion-col>\r\n      <ion-col size=\"8\">\r\n        <h3 style=\"margin-top: 0px;\">\r\n          <app-text-shell [data]=\"user?.first_name\"></app-text-shell>\r\n        </h3>\r\n        <p>\r\n          <app-text-shell [data]=\"user?.last_name\" lines=\"3\"></app-text-shell>\r\n        </p>\r\n      </ion-col>\r\n    </ion-row>\r\n    <ion-button (click)=\"getNextPageUsers()\" [disabled]=\"!loadMorePages || pagedUsers.isShell\">Fetch next page</ion-button>\r\n  </section>\r\n</ion-content>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-image-shell-page',\r\n  templateUrl: './image-shell.page.html',\r\n  styleUrls: ['./image-shell.page.scss'],\r\n})\r\nexport class ImageShellPage implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<ion-header>\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button defaultHref=\"showcase/app-shell\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>\r\n      Image Shell\r\n    </ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"showcase-content\">\r\n  <section class=\"showcase-section\">\r\n    <p>\r\n      This component enables to preload an image with an elegant shell.\r\n    </p>\r\n  </section>\r\n\r\n  <section class=\"showcase-section\">\r\n    <h5>Set different animation options</h5>\r\n    <p>\r\n      You can choose between <b>no animation</b> (default), <b>spinner animation</b>, and <b>gradient background</b> animation\r\n    </p>\r\n    <h4>No animation (default)</h4>\r\n<pre>\r\n&lt;app-image-shell [src]=\"\" [alt]=\"\"&gt;&lt;/app-image-shell&gt;\r\n</pre>\r\n    <div style=\"width:30%; margin: 0px auto;\">\r\n      <app-aspect-ratio [ratio]=\"{w:1, h:1}\">\r\n        <app-image-shell [src]=\"\" [alt]=\"\"></app-image-shell>\r\n      </app-aspect-ratio>\r\n    </div>\r\n    <h4>Spinner animation</h4>\r\n<pre>\r\n&lt;app-image-shell <b>animation=\"spinner\"</b> [src]=\"\" [alt]=\"\"&gt;&lt;/app-image-shell&gt;\r\n</pre>\r\n    <div style=\"width:30%; margin: 0px auto;\">\r\n      <app-aspect-ratio [ratio]=\"{w:1, h:1}\">\r\n        <app-image-shell animation=\"spinner\" [src]=\"\" [alt]=\"\"></app-image-shell>\r\n      </app-aspect-ratio>\r\n    </div>\r\n    <h4>Gradient animation</h4>\r\n<pre>\r\n&lt;app-image-shell <b>animation=\"gradient\"</b> [src]=\"\" [alt]=\"\"&gt;&lt;/app-image-shell&gt;\r\n</pre>\r\n    <div style=\"width:30%; margin: 0px auto;\">\r\n      <app-aspect-ratio [ratio]=\"{w:1, h:1}\">\r\n        <app-image-shell animation=\"gradient\" [src]=\"\" [alt]=\"\"></app-image-shell>\r\n      </app-aspect-ratio>\r\n    </div>\r\n  </section>\r\n\r\n  <section class=\"showcase-section\">\r\n    <p>\r\n      You can add/remove the following <b>Classes</b> to adjust the shell element behavior:\r\n    </p>\r\n    <h5>Overlay</h5>\r\n    <p>\r\n      This class adds a background overlay after the image has loaded.\r\n    </p>\r\n<pre>\r\n&lt;app-image-shell animation=\"spinner\" <b>class=\"add-overlay\"</b> [src]=\"''./assets/sample-images/travel/Travel2-64.47.png''\" [alt]=\"\"&gt;&lt;/app-image-shell&gt;\r\n</pre>\r\n    <div style=\"width:30%; margin: 0px auto;\">\r\n      <app-aspect-ratio [ratio]=\"{w:1, h:1}\">\r\n        <app-image-shell animation=\"spinner\" class=\"add-overlay\" [src]=\"'./assets/sample-images/travel/Travel2-64.47.png'\" [alt]=\"\"></app-image-shell>\r\n      </app-aspect-ratio>\r\n    </div>\r\n  </section>\r\n\r\n  <section class=\"showcase-section\">\r\n    <p>\r\n      You can also override these <b>CSS 4 variables</b> to adjust the shell element style\r\n    </p>\r\n    <h5>Background</h5>\r\n<pre>\r\napp-image-shell &#123;\r\n  --image-shell-loading-background: rgba(233, 30, 99, .25);\r\n&#125;\r\n</pre>\r\n    <div style=\"width:30%; margin: 0px auto;\">\r\n      <app-aspect-ratio [ratio]=\"{w:1, h:1}\">\r\n        <app-image-shell style=\"--image-shell-loading-background: rgba(233, 30, 99, .25);\" [src]=\"\" [alt]=\"\"></app-image-shell>\r\n      </app-aspect-ratio>\r\n    </div>\r\n    <h5>Overlay</h5>\r\n<pre>\r\napp-image-shell &#123;\r\n  --image-shell-overlay-background: rgba(103, 58, 183, .40);\r\n&#125;\r\n</pre>\r\n    <div style=\"width:30%; margin: 0px auto;\">\r\n      <app-aspect-ratio [ratio]=\"{w:1, h:1}\">\r\n        <app-image-shell style=\"--image-shell-overlay-background: rgba(103, 58, 183, .40);\" animation=\"spinner\" class=\"add-overlay\" [src]=\"'./assets/sample-images/travel/Travel2-64.47.png'\" [alt]=\"\"></app-image-shell>\r\n      </app-aspect-ratio>\r\n    </div>\r\n    <h5>Spinner</h5>\r\n<pre>\r\napp-image-shell &#123;\r\n  --image-shell-spinner-size: 40px;\r\n  --image-shell-spinner-color: #000000;\r\n&#125;\r\n</pre>\r\n    <div style=\"width:30%; margin: 0px auto;\">\r\n      <app-aspect-ratio [ratio]=\"{w:1, h:1}\">\r\n        <app-image-shell style=\"--image-shell-spinner-size: 40px; --image-shell-spinner-color: #000000;\" animation=\"spinner\" [src]=\"\" [alt]=\"\"></app-image-shell>\r\n      </app-aspect-ratio>\r\n    </div>\r\n    <h5>Background Animation</h5>\r\n    <p>\r\n      <b>Note:</b> These properties are only applied when using <code>animation=\"gradient\"</code>.\r\n    </p>\r\n<pre>\r\napp-image-shell &#123;\r\n  --image-shell-loading-background: rgba(255, 3, 109, 0.6);\r\n  --image-shell-animation-color: rgba(156, 4, 68, 0.7);\r\n&#125;\r\n</pre>\r\n    <div style=\"width:30%; margin: 0px auto;\">\r\n      <app-aspect-ratio [ratio]=\"{w:1, h:1}\">\r\n        <app-image-shell style=\"\r\n          --image-shell-loading-background: rgba(255, 3, 109, 0.6);\r\n          --image-shell-animation-color: rgba(156, 4, 68, 0.7);\r\n        \" animation=\"gradient\" [src]=\"\" [alt]=\"\"></app-image-shell>\r\n      </app-aspect-ratio>\r\n    </div>\r\n    <h5>Border Radius</h5>\r\n<pre>\r\napp-image-shell &#123;\r\n  --image-shell-border-radius: 10px;\r\n&#125;\r\n</pre>\r\n    <ion-row>\r\n      <ion-col>\r\n        <div style=\"width:80%; margin: 0px auto;\">\r\n          <app-aspect-ratio [ratio]=\"{w:1, h:1}\">\r\n            <app-image-shell style=\"--image-shell-border-radius: 10px;\" animation=\"spinner\" [src]=\"\" [alt]=\"\"></app-image-shell>\r\n          </app-aspect-ratio>\r\n        </div>\r\n      </ion-col>\r\n      <ion-col>\r\n        <div style=\"width:80%; margin: 0px auto;\">\r\n          <app-aspect-ratio [ratio]=\"{w:1, h:1}\">\r\n            <app-image-shell style=\"--image-shell-border-radius: 10px;\" animation=\"gradient\" [src]=\"\" [alt]=\"\"></app-image-shell>\r\n          </app-aspect-ratio>\r\n        </div>\r\n      </ion-col>\r\n    </ion-row>\r\n  </section>\r\n\r\n  <section class=\"showcase-section\">\r\n    <h2>Cover Image Display</h2>\r\n    <p>\r\n      In addition to the default <code>&lt;app-image-shell&gt;</code>, you can specify a <b>cover</b> display if you want to display your image as a background-image.\r\n    </p>\r\n    <p>\r\n      This is different from the default display, because (although it's not mandatory) cover display is designed to contain content (for example some text)\r\n    </p>\r\n<pre>\r\n<b>&lt;app-image-shell [display]=\"'cover'\" animation=\"spinner\" class=\"add-overlay\" [src]=\"\"&gt;</b>\r\n  &lt;app-aspect-ratio [ratio]=\"&#123;w:3, h:2&#125;\"&gt;\r\n    Some Text\r\n  &lt;/app-aspect-ratio&gt;\r\n<b>&lt;/app-image-shell&gt;</b>\r\n</pre>\r\n    <app-image-shell class=\"add-overlay\" animation=\"spinner\" [display]=\"'cover'\" [src]=\"\">\r\n      <app-aspect-ratio [ratio]=\"{w:3, h:2}\">\r\n        <h4 style=\"margin: 10px;\">Some Text on top of a background-image container</h4>\r\n      </app-aspect-ratio>\r\n    </app-image-shell>\r\n  </section>\r\n\r\n  <section class=\"showcase-section\">\r\n    <h2>Usage</h2>\r\n    <p>\r\n      Let me explain you the differences between <b>default</b> and <b>cover</b> display and when you should use each one.\r\n    </p>\r\n    <h5>Default Mode Usage</h5>\r\n    <p>\r\n      You should use the <b>default display</b> when you are 100% confident on the aspect ratio of an image.\r\n    </p>\r\n    <p>\r\n      If the image ratio does not match the specified aspect ratio, the image will be stretched.\r\n    </p>\r\n    <p>\r\n      <b>Expected behavior:</b>\r\n      <br />\r\n      The image <b>WILL</b> be stretched.\r\n      <br />\r\n      We define an aspect ratio of <b>2:1</b> but the image has an aspect ratio of <b>1:1</b>.\r\n    </p>\r\n    <div style=\"width:80%; margin: 0px auto;\">\r\n      <app-aspect-ratio [ratio]=\"{w:2, h:1}\">\r\n        <app-image-shell animation=\"spinner\" [src]=\"'./assets/sample-images/getting-started/category2-1.1.png'\" [alt]=\"\"></app-image-shell>\r\n      </app-aspect-ratio>\r\n    </div>\r\n    <p>\r\n      <b>Expected behavior:</b>\r\n      <br />\r\n      The image <b>WON'T</b> be stretched.\r\n      <br />\r\n      We define an aspect ratio of <b>1:1</b> that matches the image ratio of <b>1:1</b>.\r\n    </p>\r\n    <div style=\"width:80%; margin: 0px auto;\">\r\n      <app-aspect-ratio [ratio]=\"{w:1, h:1}\">\r\n        <app-image-shell animation=\"spinner\" [src]=\"'./assets/sample-images/getting-started/category2-1.1.png'\" [alt]=\"\"></app-image-shell>\r\n      </app-aspect-ratio>\r\n    </div>\r\n    <h5>Cover Mode Usage</h5>\r\n    <p>\r\n      You should use the <b>cover display</b> when you want to fill a container with an image and you don't care if the image is shown completly or a portion of it.\r\n    </p>\r\n    <p>\r\n      If the image ratio does not match the specified aspect ratio, the image will be cropped to fit the available space without stretching the image.\r\n    </p>\r\n    <p>\r\n      <b>Expected behavior:</b>\r\n      <br />\r\n      The image will be cropped to fill the available space.\r\n      <br />\r\n      We define an aspect ratio of <b>2:1</b> but the image has an aspect ratio of <b>1:1</b>.\r\n    </p>\r\n    <div style=\"width:80%; margin: 0px auto;\">\r\n      <app-image-shell animation=\"spinner\" [display]=\"'cover'\" [src]=\"'./assets/sample-images/getting-started/category2-1.1.png'\">\r\n        <app-aspect-ratio [ratio]=\"{w:2, h:1}\">\r\n        </app-aspect-ratio>\r\n      </app-image-shell>\r\n    </div>\r\n    <p>\r\n      You can also change the <b>background-position</b> property to adjust how the image is placed inside the container.\r\n    </p>\r\n    <p>\r\n      <b>Notice:</b> This only applies to <b>cover</b> display.\r\n    </p>\r\n<pre>\r\napp-image-shell[display=\"cover\"] &#123;\r\n  background-position: bottom right;\r\n&#125;\r\n</pre>\r\n    <div style=\"width:80%; margin: 0px auto;\">\r\n      <app-image-shell style=\"background-position: bottom right;\" animation=\"spinner\" [display]=\"'cover'\" [src]=\"'./assets/sample-images/getting-started/category2-1.1.png'\">\r\n        <app-aspect-ratio [ratio]=\"{w:2, h:1}\">\r\n        </app-aspect-ratio>\r\n      </app-image-shell>\r\n    </div>\r\n  </section>\r\n\r\n  <section class=\"showcase-section\">\r\n    <h2>Image load ERROR</h2>\r\n    <p>\r\n      In case the image url is incorrect or the server has any problem, we should show a message accordingly instead of an infinite loading animation.\r\n    </p>\r\n    <p>\r\n      <b>Notice:</b> Images with <b>cover</b> display may have text above them. For usability reasons we disabled the error message to avoid confusion.\r\n    </p>\r\n    <h5>Set message color</h5>\r\n<pre>\r\napp-image-shell &#123;\r\n  --image-shell-color: #ff0000;\r\n&#125;\r\n</pre>\r\n<pre>\r\n<b>&lt;app-aspect-ratio [ratio]=\"&#123;w:3, h:2&#125;\"&gt;</b>\r\n  &lt;app-image-shell animation=\"spinner\" [src]=\"'./assets/non-existent-image.jpg'\" [alt]=\"\"&gt;&lt;/app-image-shell&gt;\r\n<b>&lt;/app-aspect-ratio&gt;</b>\r\n</pre>\r\n    <div style=\"width:60%; margin: 0px auto;\">\r\n      <app-aspect-ratio [ratio]=\"{w:3, h:2}\">\r\n        <app-image-shell animation=\"spinner\" [src]=\"'./assets/non-existent-image.jpg'\" [alt]=\"\" style=\"--image-shell-color: #ff0000;\"></app-image-shell>\r\n      </app-aspect-ratio>\r\n    </div>\r\n    <h5>Use other properties</h5>\r\n<pre>\r\napp-image-shell &#123;\r\n  --image-shell-border-radius: 10px;\r\n&#125;\r\n</pre>\r\n<pre>\r\n<b>&lt;app-aspect-ratio [ratio]=\"&#123;w:3, h:2&#125;\"&gt;</b>\r\n  &lt;app-image-shell animation=\"gradient\" [src]=\"'./assets/non-existent-image.jpg'\" [alt]=\"\"&gt;&lt;/app-image-shell&gt;\r\n<b>&lt;/app-aspect-ratio&gt;</b>\r\n</pre>\r\n    <div style=\"width:60%; margin: 0px auto;\">\r\n      <app-aspect-ratio [ratio]=\"{w:3, h:2}\">\r\n        <app-image-shell animation=\"gradient\" [src]=\"'./assets/non-existent-image.jpg'\" [alt]=\"\" style=\"--image-shell-border-radius: 10px;\"></app-image-shell>\r\n      </app-aspect-ratio>\r\n    </div>\r\n  </section>\r\n\r\n  <section class=\"showcase-section\">\r\n    <h2>Image lazy loading</h2>\r\n    <p>\r\n      By default we enabled the Image element <b>loading</b> attribute.\r\n    </p>\r\n    <p>\r\n      It's used to instruct the browser to defer loading of images that are off-screen until the user scrolls near them.\r\n    </p>\r\n    <p>\r\n      <b>Notice:</b> This does not work on images with <b>cover</b> display because we use a hidden aux image. As it's hidden, if set loading to 'lazy' it won't ever trigger the loading mechanism.\r\n    </p>\r\n  </section>\r\n\r\n  <section class=\"showcase-section\">\r\n    <h2>Maintain Aspect Ratio</h2>\r\n    <p>\r\n      We use the handy <code>&lt;app-aspect-ratio&gt;</code> to ensure the image shell mantains a specified aspect ratio.\r\n    </p>\r\n    <p>\r\n      By doing so, we prevent content from jumping around the page while assets (images) are loading.\r\n    </p>\r\n    <h5>Default display</h5>\r\n    <p>\r\n      Just surround the <code>&lt;app-image-shell&gt;</code> with an <code>&lt;app-aspect-ratio&gt;</code> element\r\n    </p>\r\n<pre>\r\n<b>&lt;app-aspect-ratio [ratio]=\"&#123;w:3, h:2&#125;\"&gt;</b>\r\n  &lt;app-image-shell animation=\"spinner\" [src]=\"\" [alt]=\"\"&gt;&lt;/app-image-shell&gt;\r\n<b>&lt;/app-aspect-ratio&gt;</b>\r\n</pre>\r\n    <div style=\"width:60%; margin: 0px auto;\">\r\n      <app-aspect-ratio [ratio]=\"{w:3, h:2}\">\r\n        <app-image-shell animation=\"spinner\" [src]=\"\" [alt]=\"\"></app-image-shell>\r\n      </app-aspect-ratio>\r\n    </div>\r\n    <h5>Cover display</h5>\r\n    <p>\r\n      When using the <b>cover</b> display we need to include the <code>&lt;app-aspect-ratio&gt;</code> inside the <code>&lt;app-image-shell&gt;</code> element instead of surrounding it.\r\n    </p>\r\n<pre>\r\n&lt;app-image-shell [display]=\"'cover'\" animation=\"spinner\" class=\"add-overlay\" [src]=\"\"&gt;\r\n  <b>&lt;app-aspect-ratio [ratio]=\"&#123;w:3, h:2&#125;\"&gt;</b>\r\n    Some Text\r\n  <b>&lt;/app-aspect-ratio&gt;</b>\r\n&lt;/app-image-shell&gt;\r\n</pre>\r\n    <app-image-shell animation=\"spinner\" class=\"add-overlay\" [display]=\"'cover'\" [src]=\"\">\r\n      <app-aspect-ratio [ratio]=\"{w:3, h:2}\">\r\n        <h4 style=\"margin: 10px;\">Some Text on top of a background-image container</h4>\r\n      </app-aspect-ratio>\r\n    </app-image-shell>\r\n  </section>\r\n</ion-content>\r\n","import { Observable, of, combineLatest, ReplaySubject } from 'rxjs';\r\nimport { delay, map, startWith } from 'rxjs/operators';\r\nimport { environment } from '../../environments/environment';\r\n\r\nexport class ShellModel {\r\n  isShell = false;\r\n}\r\n\r\nexport class DataStore<T> {\r\n  // We wait on purpose 2 secs on local environment when fetching from json to simulate the backend roundtrip.\r\n  // However, in production you should set this delay to 0 in the environment.prod file.\r\n  // tslint:disable-next-line:max-line-length\r\n  private networkDelay = (environment.appShellConfig && environment.appShellConfig.networkDelay) ? environment.appShellConfig.networkDelay : 0;\r\n\r\n  private timeline: ReplaySubject<T & ShellModel> = new ReplaySubject(1);\r\n\r\n  constructor(private shellModel: T) { }\r\n\r\n  // Static function with generics\r\n  // (ref: https://stackoverflow.com/a/24293088/1116959)\r\n  // Append a shell (T & ShellModel) to every value (T) emmited to the timeline\r\n  public static AppendShell<T>(dataObservable: Observable<T>, shellModel: T, networkDelay = 400): Observable<T & ShellModel> {\r\n    const delayObservable = of(true).pipe(\r\n      delay(networkDelay)\r\n    );\r\n\r\n    // Assign shell flag accordingly\r\n    // (ref: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\r\n    return combineLatest([\r\n      delayObservable,\r\n      dataObservable\r\n    ]).pipe(\r\n      // Dismiss unnecessary delayValue\r\n      map(([delayValue, dataValue]: [boolean, T]): (T & ShellModel) => Object.assign(dataValue, {isShell: false})),\r\n      // Set the shell model as the initial value\r\n      startWith(Object.assign(shellModel, {isShell: true}))\r\n    );\r\n  }\r\n\r\n  load(dataSourceObservable: Observable<T>, networkDelay?: number): void {\r\n    // tslint:disable-next-line:no-shadowed-variable\r\n    const delay = (typeof networkDelay === 'number') ? networkDelay : this.networkDelay;\r\n\r\n    let processedDataSource: Observable<any>;\r\n\r\n    // If no network delay, then don't show shell\r\n    if (delay === 0) {\r\n      processedDataSource = dataSourceObservable;\r\n    } else {\r\n      processedDataSource = DataStore.AppendShell(dataSourceObservable, this.shellModel, delay);\r\n    }\r\n\r\n    processedDataSource\r\n    .subscribe((dataValue: T & ShellModel) => {\r\n      this.timeline.next(dataValue);\r\n    });\r\n  }\r\n\r\n  public get state(): Observable<T & ShellModel> {\r\n    return this.timeline.asObservable();\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-aspect-ratio-page',\r\n  templateUrl: './aspect-ratio.page.html',\r\n  styleUrls: ['./aspect-ratio.page.scss'],\r\n})\r\nexport class AspectRatioPage implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<ion-header>\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button defaultHref=\"showcase/app-shell\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>\r\n      Aspect Ratio\r\n    </ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"showcase-content\">\r\n  <section class=\"showcase-section\">\r\n    <p>\r\n      The <code>&lt;app-aspect-ratio&gt;</code> is a simple component that ensures a block will maintain the specified aspect ratio.\r\n    </p>\r\n    <p>\r\n      It uses an <a href=\"http://stackoverflow.com/a/10441480/1116959\" target=\"_blank\">old CSS technique</a> to adjust the height of the element based on its width (using padding-bottom).\r\n    </p>\r\n    <p>\r\n      This is a very handy component to prevent content from jumping around while the page is loading.\r\n    </p>\r\n    <p>\r\n      <b>Note:</b> The <code>&lt;app-aspect-ratio&gt;</code> component must be surrounded by a container element with a defined width, as this component will fill the parent width.\r\n    </p>\r\n<pre>\r\n<b>&lt;div style=\"width:80%; margin: 0px auto;\"&gt;</b>\r\n  &lt;app-aspect-ratio [ratio]=\"&#123;w:2, h:1&#125;\"&gt;\r\n    &lt;span&gt;This container will always have a 2:1 aspect ratio&lt;/span&gt;\r\n  &lt;/app-aspect-ratio&gt;\r\n<b>&lt;/div&gt;</b>\r\n</pre>\r\n    <div style=\"width:80%; margin: 0px auto;\">\r\n      <app-aspect-ratio [ratio]=\"{w:2, h:1}\" style=\"background-color: #00AFFF;\">\r\n        <span style=\"margin: 10px; display: block;\">This container will always have a <b>2:1</b> aspect ratio</span>\r\n      </app-aspect-ratio>\r\n    </div>\r\n  </section>\r\n</ion-content>\r\n","import { ShellModel } from '../../shell/data-store';\r\n\r\nexport class FashionItemModel {\r\n  price: number;\r\n  salePrice: number;\r\n  image: string;\r\n  squareImage: string;\r\n  showcaseImages: Array<string>;\r\n  name: string;\r\n  style: string;\r\n  relatedProducts: Array<string>;\r\n}\r\n\r\nexport class FashionListingModel extends ShellModel {\r\n  items: Array<FashionItemModel> = [\r\n    new FashionItemModel(),\r\n    new FashionItemModel(),\r\n    new FashionItemModel(),\r\n    new FashionItemModel()\r\n  ];\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ShowcaseService } from '../../showcase.service';\r\nimport { DataStore } from '../../../shell/data-store';\r\nimport { FashionListingModel } from '../../../fashion/listing/fashion-listing.model';\r\nimport { TravelListingModel } from '../../../travel/listing/travel-listing.model';\r\n\r\n@Component({\r\n  selector: 'app-data-store-multiple',\r\n  templateUrl: './data-store-multiple.page.html',\r\n  styleUrls: ['./data-store-multiple.page.scss'],\r\n})\r\nexport class DataStoreMultiplePage implements OnInit {\r\n\r\n  dataStoreA: DataStore<TravelListingModel>;\r\n  dataStoreB: DataStore<FashionListingModel>;\r\n  dataA: TravelListingModel;\r\n  dataB: FashionListingModel;\r\n\r\n  constructor(private showcaseService: ShowcaseService) { }\r\n\r\n  ngOnInit() {\r\n\r\n    const dataSourceA = this.showcaseService.getMultipleDataSourceA();\r\n    const dataSourceB = this.showcaseService.getMultipleDataSourceB();\r\n\r\n    const shellModelA: TravelListingModel = new TravelListingModel();\r\n    this.dataStoreA = new DataStore(shellModelA);\r\n    this.dataStoreA.load(dataSourceA);\r\n    this.dataStoreA.state.subscribe(data => {\r\n      this.dataA = data;\r\n    });\r\n\r\n    const shellModelB: FashionListingModel = new FashionListingModel();\r\n\r\n    this.dataStoreB = new DataStore(shellModelB);\r\n    this.dataStoreB.load(dataSourceB);\r\n    this.dataStoreB.state.subscribe(data => {\r\n      this.dataB = data;\r\n    });\r\n\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button defaultHref=\"showcase/app-shell\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>\r\n      DataStore - Multiple DataStores example\r\n    </ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"showcase-content\">\r\n  <section class=\"showcase-section\">\r\n    <p>\r\n      Sometimes your view displays different types of data, each of them with a different model and data source.\r\n    </p>\r\n    <p>\r\n      If this is your use case, then you can use multiple data stores to fetch each data stream.\r\n    </p>\r\n    <p>\r\n      <b>Note:</b> This use case is different from the <a [routerLink]=\"['/showcase/app-shell/data-store-combined']\">Combined Data Sources</a> because in this case you have two data streams that will change independently one from the other updating different parts of the view without causing a full view 're-loading'.\r\n    </p>\r\n    <h6>Data Source A</h6>\r\n    <h5>What to do nearby</h5>\r\n    <ion-list lines=\"full\">\r\n      <ion-item *ngFor=\"let item of dataA?.items | slice:0:3\">\r\n        <ion-thumbnail slot=\"start\">\r\n          <app-aspect-ratio [ratio]=\"{w:1, h:1}\">\r\n            <app-image-shell animation=\"spinner\" [src]=\"item?.image\" [alt]=\"'Sample Image'\"></app-image-shell>\r\n          </app-aspect-ratio>\r\n        </ion-thumbnail>\r\n        <ion-label>\r\n          <h2 class=\"item-name\">\r\n            <app-text-shell [data]=\"item?.name\" animation=\"gradient\"></app-text-shell>\r\n          </h2>\r\n          <h4>\r\n            <app-text-shell style=\"--text-shell-line-height:14px;\" [data]=\"item?.category\" animation=\"gradient\"></app-text-shell>\r\n          </h4>\r\n          <p>\r\n            <app-text-shell style=\"--text-shell-line-height:14px;\" [data]=\"item?.address\" animation=\"gradient\"></app-text-shell>\r\n          </p>\r\n        </ion-label>\r\n      </ion-item>\r\n    </ion-list>\r\n    <h6>Data Source B</h6>\r\n    <h5>Shop what's trending</h5>\r\n    <ion-list lines=\"full\">\r\n      <ion-item *ngFor=\"let item of dataB?.items | slice:0:5\">\r\n        <ion-thumbnail slot=\"start\">\r\n          <app-aspect-ratio [ratio]=\"{w:1, h:1}\">\r\n            <app-image-shell animation=\"spinner\" [src]=\"item?.image\" [alt]=\"'Sample Image'\"></app-image-shell>\r\n          </app-aspect-ratio>\r\n        </ion-thumbnail>\r\n        <ion-label>\r\n          <h2 class=\"item-name\">\r\n            <app-text-shell [data]=\"item?.name\" animation=\"gradient\"></app-text-shell>\r\n          </h2>\r\n          <p class=\"item-price\">\r\n            <app-text-shell [data]=\"(item?.salePrice) ? '$'.concat('', item.salePrice) : null\" animation=\"gradient\"></app-text-shell>\r\n          </p>\r\n        </ion-label>\r\n      </ion-item>\r\n    </ion-list>\r\n  </section>\r\n</ion-content>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ShowcaseService } from '../../showcase.service';\r\nimport { DataStore } from '../../../shell/data-store';\r\nimport { ShowcaseCombinedTaskUserModel } from '../../showcase-shell.model';\r\n\r\n@Component({\r\n  selector: 'app-data-store-combined',\r\n  templateUrl: './data-store-combined.page.html',\r\n  styleUrls: ['./data-store-combined.page.scss'],\r\n})\r\nexport class DataStoreCombinedPage implements OnInit {\r\n\r\n  tasksCombinedDataStore: DataStore<Array<ShowcaseCombinedTaskUserModel>>;\r\n  tasks: Array<ShowcaseCombinedTaskUserModel>;\r\n\r\n  constructor(private showcaseService: ShowcaseService) { }\r\n\r\n  ngOnInit() {\r\n    // We created ShowcaseCombinedTaskUserModel to combine the task with his user data.\r\n    // They are 2 different collections (or data tables in the DB) and we need to combine them into 1 dataSource.\r\n\r\n    const dataSource = this.showcaseService.getCombinedTasksUserDataSource();\r\n\r\n    const shellModel: Array<ShowcaseCombinedTaskUserModel> = [\r\n      new ShowcaseCombinedTaskUserModel(),\r\n      new ShowcaseCombinedTaskUserModel(),\r\n      new ShowcaseCombinedTaskUserModel(),\r\n      new ShowcaseCombinedTaskUserModel()\r\n    ];\r\n\r\n    this.tasksCombinedDataStore = new DataStore(shellModel);\r\n    this.tasksCombinedDataStore.load(dataSource);\r\n\r\n    this.tasksCombinedDataStore.state.subscribe(data => {\r\n      this.tasks = data;\r\n    });\r\n  }\r\n\r\n}\r\n","<ion-header>\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button defaultHref=\"showcase/app-shell\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>\r\n      DataStore - Combined Data Sources\r\n    </ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"showcase-content\">\r\n  <section class=\"showcase-section\">\r\n    <p>\r\n      Some modern <b>no-sql</b> solutions like <u>MongoDB</u> or <u>Firebase Firestore</u> do not support multi-collection queries (left join, inner join).\r\n    </p>\r\n    <p>\r\n      That's why you may end up using some <b>RxJs</b> operators to manage and combine queries independently.\r\n    </p>\r\n    <p>\r\n      <b>Note:</b> These techniques are <i>intermediate / advanced</i> and require some patience to fully grasp some reactive programming concepts before you can master RxJs operators. I strongly recommend you to read this guide on <a href=\"https://blog.angularindepth.com/learn-to-combine-rxjs-sequences-with-super-intuitive-interactive-diagrams-20fce8e6511\" target=\"_blank\">learning to combine RxJs sequences</a>.\r\n    </p>\r\n    <p>\r\n      Below you can see how we combine two data sources (one depending on the other) into one Observable.\r\n    </p>\r\n    <p>\r\n      Let's do an example of Tasks and their Owners. Imagine a case where we need to have the list of tasks and the details of the 'owner' user combined in the same data source. Let's see how to do it.\r\n    </p>\r\n  </section>\r\n  <div class=\"tasks\">\r\n    <h6>Tasks</h6>\r\n    <ion-list lines=\"full\" style=\"--background: transparent\">\r\n      <ion-item class=\"task\" *ngFor=\"let task of tasks | slice:0:40\">\r\n        <ion-label>\r\n          <h2>\r\n            <app-text-shell [data]=\"task?.title\" animation=\"bouncing\" style=\"--text-shell-line-height: 16px;\"></app-text-shell>\r\n          </h2>\r\n          <div style=\"display: flex;\">\r\n            <span style=\"margin-right: 10px;\"><b>Status:</b></span>\r\n            <h3 style=\"min-width: 100px;\">\r\n              <app-text-shell [data]=\"(task.completed) ? 'Completed': 'In Progress'\" animation=\"bouncing\" style=\"--text-shell-line-height: 14px;\"></app-text-shell>\r\n            </h3>\r\n          </div>\r\n          <span><b>Owner:</b></span>\r\n          <p>\r\n            <app-text-shell [data]=\"task.user?.name\" animation=\"bouncing\"></app-text-shell>\r\n          </p>\r\n          <p>\r\n            <app-text-shell [data]=\"(task?.user) ? '@'.concat('', task.user.username) : null\" animation=\"bouncing\"></app-text-shell>\r\n          </p>\r\n          <p>\r\n            <app-text-shell [data]=\"task.user?.email\" animation=\"bouncing\"></app-text-shell>\r\n          </p>\r\n        </ion-label>\r\n      </ion-item>\r\n    </ion-list>\r\n  </div>\r\n</ion-content>\r\n","import { Component, OnInit, HostBinding } from '@angular/core';\r\nimport { ShowcaseService } from '../../showcase.service';\r\nimport { ShowcaseShellUserModel } from '../../showcase-shell.model';\r\nimport { DataStore, ShellModel } from '../../../shell/data-store';\r\n\r\n@Component({\r\n  selector: 'app-data-store-list',\r\n  templateUrl: './data-store-list.page.html',\r\n  styleUrls: ['./data-store-list.page.scss'],\r\n})\r\nexport class DataStoreListPage implements OnInit {\r\n\r\n  dataStore: DataStore<Array<ShowcaseShellUserModel>>;\r\n  data: Array<ShowcaseShellUserModel> & ShellModel;\r\n\r\n  @HostBinding('class.is-shell') get isShell() {\r\n    return (this.data && this.data.isShell) ? true : false;\r\n  }\r\n\r\n  constructor(private showcaseService: ShowcaseService) { }\r\n\r\n  ngOnInit() {\r\n    const dataSource = this.showcaseService.getListDataSource();\r\n\r\n    // Initialize the model specifying that it is a shell model\r\n    const shellModel: Array<ShowcaseShellUserModel> = [\r\n      new ShowcaseShellUserModel(),\r\n      new ShowcaseShellUserModel(),\r\n      new ShowcaseShellUserModel()\r\n    ];\r\n    this.dataStore = new DataStore(shellModel);\r\n    // Trigger the loading mechanism (with shell) in the dataStore\r\n    this.dataStore.load(dataSource);\r\n\r\n    this.dataStore.state.subscribe(data => {\r\n      this.data = data;\r\n    });\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button defaultHref=\"showcase/app-shell\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>\r\n      DataStore - List example\r\n    </ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"showcase-content\">\r\n  <section class=\"showcase-section\">\r\n    <p>\r\n      When you fetch data from a remote API, sometimes you request a list of items. If thatâ€™s the case you would end up having an <b>Observable</b> of type <code>Observable&lt;Array&lt;YourModel&gt;&gt;</code>.\r\n    </p>\r\n    <p>\r\n      The <b>DataStore</b> class works by assigning a shell property to any object.\r\n    </p>\r\n<pre>\r\nconst myObj = new YourModel();\r\nObject.assign(myObj, &#123;isShell: false&#125;);\r\n\r\nObject.assign([1, 2, 3], &#123;isShell: false&#125;);\r\n</pre>\r\n    <p>\r\n      In Javascript, everything is an object (including Arrays). Thatâ€™s why you can assign properties to Arrays independently of their values.\r\n    </p>\r\n    <ion-list lines=\"full\" class=\"users-list\">\r\n      <ion-item *ngFor=\"let user of data\">\r\n        <ion-thumbnail slot=\"start\">\r\n          <app-aspect-ratio [ratio]=\"{w:1, h:1}\">\r\n            <app-image-shell animation=\"spinner\" [src]=\"user?.avatar\" [alt]=\"'Sample Image'\"></app-image-shell>\r\n          </app-aspect-ratio>\r\n        </ion-thumbnail>\r\n        <ion-label>\r\n          <h2 class=\"user-name\">\r\n            <app-text-shell [data]=\"user?.first_name\" animation=\"bouncing\"></app-text-shell>\r\n          </h2>\r\n          <h3 class=\"user-lastname\">\r\n            <app-text-shell [data]=\"user?.last_name\" animation=\"bouncing\"></app-text-shell>\r\n          </h3>\r\n        </ion-label>\r\n      </ion-item>\r\n    </ion-list>\r\n    <p>\r\n      In this example we keep track of the current state of the data stream in a local <code>data</code> property.\r\n    </p>\r\n    <p>\r\n      Note how we define its type using <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#intersection-types\" target=\"_blank\">Typescript intersection typing</a> like this <code>data: Array&lt;YourModel&gt; & ShellModel;</code>\r\n      to indicate it's an array that has a shell model appended (by the <b>DataStore</b>).\r\n    </p>\r\n  </section>\r\n</ion-content>\r\n"]}