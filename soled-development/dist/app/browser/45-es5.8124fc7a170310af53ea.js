!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{x04h:function(t,o,i){"use strict";i.r(o),i.d(o,"MapsPageModule",(function(){return v}));var r,a,s,c=i("TEn/"),l=i("tyNb"),u=i("ofXK"),p=i("mrSG"),m=i("gcOT"),f=i("fXoL"),d=((r=function(){function t(n,o){e(this,t),this._elementRef=n,this.platformId=o,this.$mapReady=new f.n,this._mapIdledOnce=!1}return n(t,[{key:"ngOnInit",value:function(){Object(u.t)(this.platformId)&&this.initMap()}},{key:"initMap",value:function(){var e=this;this._el=this._elementRef.nativeElement,this._map=new google.maps.Map(this._el,this.mapOptions);var t=this._map.addListener("idle",(function(){console.log("mapReady - IDLE"),e._mapIdledOnce||(e.$mapReady.emit(e._map),e._mapIdledOnce=!0,google.maps.event.removeListener(t))}))}}]),t}()).\u0275fac=function(e){return new(e||r)(f.Ib(f.l),f.Ib(f.B))},r.\u0275cmp=f.Cb({type:r,selectors:[["google-map"]],inputs:{mapOptions:"mapOptions"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),r),b=m.b.Geolocation,g=((a=function(){function t(n){e(this,t),this.loadingController=n,this.mapOptions={zoom:15,center:{lat:-34.9199842,lng:-56.149849}}}return n(t,[{key:"ngAfterViewInit",value:function(){var e=this;this._GoogleMap.$mapReady.subscribe((function(t){e.map=t,console.log("ngAfterViewInit - Google map ready")})),this.createLoader()}},{key:"createLoader",value:function(){return Object(p.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingController.create({message:"Trying to get your current location..."});case 2:this.loadingElement=e.sent;case 3:case"end":return e.stop()}}),e,this)})))}},{key:"presentLoader",value:function(){return Object(p.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingElement.present();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"dismissLoader",value:function(){return Object(p.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.loadingElement,!e.t0){e.next=4;break}return e.next=4,this.loadingElement.dismiss();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"geolocateMe",value:function(){var e=this;this.presentLoader(),b.getCurrentPosition().then((function(t){var n=new google.maps.LatLng(t.coords.latitude,t.coords.longitude);e.map.panTo(n),new google.maps.Marker({position:n,title:"You are here!"}).setMap(e.map)})).catch((function(e){console.log("Error getting current location",e)})).finally((function(){return e.dismissLoader()}))}}]),t}()).\u0275fac=function(e){return new(e||a)(f.Ib(c.bb))},a.\u0275cmp=f.Cb({type:a,selectors:[["app-maps"]],viewQuery:function(e,t){var n;1&e&&f.zc(d,!0),2&e&&f.lc(n=f.Xb())&&(t._GoogleMap=n.first)},decls:11,vars:1,consts:[["color","primary"],["slot","start"],["vertical","top","horizontal","end","slot","fixed"],["color","secondary",3,"click"],["name","locate"],[3,"mapOptions"]],template:function(e,t){1&e&&(f.Ob(0,"ion-header"),f.Ob(1,"ion-toolbar",0),f.Ob(2,"ion-buttons",1),f.Jb(3,"ion-menu-button"),f.Nb(),f.Ob(4,"ion-title"),f.vc(5,"Maps & Geolocation"),f.Nb(),f.Nb(),f.Nb(),f.Ob(6,"ion-content"),f.Ob(7,"ion-fab",2),f.Ob(8,"ion-fab-button",3),f.Wb("click",(function(){return t.geolocateMe()})),f.Jb(9,"ion-icon",4),f.Nb(),f.Nb(),f.Jb(10,"google-map",5),f.Nb()),2&e&&(f.yb(10),f.fc("mapOptions",t.mapOptions))},directives:[c.p,c.Y,c.h,c.A,c.W,c.k,c.m,c.n,c.q,d],styles:["google-map[_ngcontent-%COMP%]{display:block;width:100%;height:100%}"]}),a),h=i("j1ZV"),v=((s=function t(){e(this,t)}).\u0275mod=f.Gb({type:s}),s.\u0275inj=f.Fb({factory:function(e){return new(e||s)},imports:[[c.Z,u.c,h.a,l.k.forChild([{path:"",component:g}])]]}),s)}}])}();