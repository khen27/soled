(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{RMgo:function(t,n,i){"use strict";i.r(n),i.d(n,"FirebaseSignUpPageModule",(function(){return M}));var e=i("ofXK"),o=i("3Pt+"),r=i("tyNb"),s=i("TEn/"),a=i("mrSG"),c=i("sY96"),g=i("T7tK"),p=i("fXoL"),b=i("A0kb");function d(t,n){if(1&t&&(p.Ob(0,"div",23),p.Jb(1,"ion-icon",24),p.Ob(2,"span"),p.vc(3),p.Nb(),p.Nb()),2&t){const t=p.Yb().$implicit;p.yb(3),p.wc(t.message)}}function u(t,n){if(1&t&&(p.Mb(0),p.tc(1,d,4,1,"div",22),p.Lb()),2&t){const t=n.$implicit,i=p.Yb();p.yb(1),p.fc("ngIf",i.signupForm.get("email").hasError(t.type)&&(i.signupForm.get("email").dirty||i.signupForm.get("email").touched))}}function m(t,n){if(1&t&&(p.Ob(0,"div",23),p.Jb(1,"ion-icon",24),p.Ob(2,"span"),p.vc(3),p.Nb(),p.Nb()),2&t){const t=p.Yb().$implicit;p.yb(3),p.wc(t.message)}}function l(t,n){if(1&t&&(p.Mb(0),p.tc(1,m,4,1,"div",22),p.Lb()),2&t){const t=n.$implicit,i=p.Yb();p.yb(1),p.fc("ngIf",i.signupForm.get("matching_passwords").get("password").hasError(t.type)&&(i.signupForm.get("matching_passwords").get("password").dirty||i.signupForm.get("matching_passwords").get("password").touched))}}function h(t,n){if(1&t&&(p.Ob(0,"div",23),p.Jb(1,"ion-icon",24),p.Ob(2,"span"),p.vc(3),p.Nb(),p.Nb()),2&t){const t=p.Yb().$implicit;p.yb(3),p.wc(t.message)}}function f(t,n){if(1&t&&(p.Mb(0),p.tc(1,h,4,1,"div",22),p.Lb()),2&t){const t=n.$implicit,i=p.Yb();p.yb(1),p.fc("ngIf",i.signupForm.get("matching_passwords").get("confirm_password").hasError(t.type)&&(i.signupForm.get("matching_passwords").get("confirm_password").dirty||i.signupForm.get("matching_passwords").get("confirm_password").touched))}}function v(t,n){if(1&t&&(p.Ob(0,"div",23),p.Jb(1,"ion-icon",24),p.Ob(2,"span"),p.vc(3),p.Nb(),p.Nb()),2&t){const t=p.Yb().$implicit;p.yb(3),p.wc(t.message)}}function w(t,n){if(1&t&&(p.Mb(0),p.tc(1,v,4,1,"div",22),p.Lb()),2&t){const t=n.$implicit,i=p.Yb();p.yb(1),p.fc("ngIf",i.signupForm.get("matching_passwords").hasError(t.type)&&(i.signupForm.get("matching_passwords").get("confirm_password").dirty||i.signupForm.get("matching_passwords").get("confirm_password").touched))}}function O(t,n){if(1&t&&(p.Ob(0,"div",8),p.Ob(1,"div",23),p.Jb(2,"ion-icon",24),p.Ob(3,"span"),p.vc(4),p.Nb(),p.Nb(),p.Nb()),2&t){const t=p.Yb();p.yb(4),p.wc(t.submitError)}}const _=function(){return["/firebase/auth/sign-in"]};let P=(()=>{class t{constructor(t,n,i,e,r,s,a){this.router=t,this.route=n,this.menu=i,this.authService=e,this.ngZone=r,this.loadingController=s,this.location=a,this.validation_messages={email:[{type:"required",message:"Email is required."},{type:"pattern",message:"Enter a valid email."}],password:[{type:"required",message:"Password is required."},{type:"minlength",message:"Password must be at least 6 characters long."}],confirm_password:[{type:"required",message:"Confirm password is required"}],matching_passwords:[{type:"areNotEqual",message:"Password mismatch"}]},this.matching_passwords_group=new o.e({password:new o.c("",o.q.compose([o.q.minLength(6),o.q.required])),confirm_password:new o.c("",o.q.required)},t=>c.a.areNotEqual(t)),this.signupForm=new o.e({email:new o.c("",o.q.compose([o.q.required,o.q.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])),matching_passwords:this.matching_passwords_group}),this.authRedirectResult=this.authService.getRedirectResult().subscribe(t=>{t.user?this.redirectLoggedUserToProfilePage():t.error&&this.manageAuthWithProvidersErrors(t.error)}),this.route.queryParams.subscribe(t=>{const n=t["auth-redirect"];n&&this.presentLoading(n)})}ngOnInit(){this.menu.enable(!1)}redirectLoggedUserToProfilePage(){this.dismissLoading(),this.ngZone.run(()=>{this.router.navigate(["firebase/auth/profile"],{replaceUrl:!0})})}presentLoading(t){return Object(a.__awaiter)(this,void 0,void 0,(function*(){const n=t[0].toUpperCase()+t.slice(1);this.redirectLoader=yield this.loadingController.create({message:t?"Signing up with "+n:"Signin up ..."}),yield this.redirectLoader.present()}))}dismissLoading(){return Object(a.__awaiter)(this,void 0,void 0,(function*(){this.redirectLoader&&(yield this.redirectLoader.dismiss())}))}resetSubmitError(){this.submitError=null}prepareForAuthWithProvidersRedirection(t){this.presentLoading(t),this.location.go(this.location.path(),"auth-redirect="+t,this.location.getState())}manageAuthWithProvidersErrors(t){this.submitError=t,this.location.replaceState(this.router.url.split("?")[0],""),this.dismissLoading()}signUpWithEmail(){this.resetSubmitError();const t=this.signupForm.value;this.authService.signUpWithEmail(t.email,t.matching_passwords.password).then(t=>{this.redirectLoggedUserToProfilePage()}).catch(t=>{this.submitError=t.message})}doFacebookSignup(){this.resetSubmitError(),this.prepareForAuthWithProvidersRedirection("facebook"),this.authService.signInWithFacebook().subscribe(t=>{this.redirectLoggedUserToProfilePage()},t=>{this.manageAuthWithProvidersErrors(t.message)})}doGoogleSignup(){this.resetSubmitError(),this.prepareForAuthWithProvidersRedirection("google"),this.authService.signInWithGoogle().subscribe(t=>{this.redirectLoggedUserToProfilePage()},t=>{console.log(t),this.manageAuthWithProvidersErrors(t.message)})}doTwitterSignup(){this.resetSubmitError(),this.prepareForAuthWithProvidersRedirection("twitter"),this.authService.signInWithTwitter().subscribe(t=>{this.redirectLoggedUserToProfilePage()},t=>{console.log(t),this.manageAuthWithProvidersErrors(t.message)})}}return t.\u0275fac=function(n){return new(n||t)(p.Ib(r.g),p.Ib(r.a),p.Ib(s.gb),p.Ib(g.a),p.Ib(p.z),p.Ib(s.fb),p.Ib(e.i))},t.\u0275cmp=p.Cb({type:t,selectors:[["app-firebase-sign-up"]],decls:41,vars:9,consts:[[1,"ion-no-border"],["slot","start"],[1,"signup-content"],[1,"auth-title"],[3,"formGroup","ngSubmit"],["lines","full",1,"inputs-list"],[1,"input-item"],["type","email","placeholder","Email","formControlName","email","clearInput","","autocapitalize","off","inputmode","email"],[1,"error-container"],[4,"ngFor","ngForOf"],["formGroupName","matching_passwords"],["type","password","placeholder","Password","formControlName","password"],["type","password","placeholder","Confirm Password","formControlName","confirm_password"],["type","submit","expand","block",1,"signup-btn",3,"disabled"],["class","error-container",4,"ngIf"],[1,"other-auth-options-row"],["fill","clear",1,"login-btn",3,"routerLink"],[1,"social-auth-options"],[1,"options-divider"],["expand","block","color","facebook",1,"social-auth-btn","facebook-auth-btn",3,"click"],["expand","block","color","google",1,"social-auth-btn","google-auth-btn",3,"click"],["expand","block","color","twitter",1,"social-auth-btn","twitter-auth-btn",3,"click"],["class","error-message",4,"ngIf"],[1,"error-message"],["name","information-circle-outline"]],template:function(t,n){1&t&&(p.Ob(0,"ion-header",0),p.Ob(1,"ion-toolbar"),p.Ob(2,"ion-buttons",1),p.Jb(3,"ion-back-button"),p.Nb(),p.Nb(),p.Nb(),p.Ob(4,"ion-content",2),p.Ob(5,"h2",3),p.vc(6," Sign Up with Firebase "),p.Nb(),p.Ob(7,"form",4),p.Wb("ngSubmit",(function(){return n.signUpWithEmail()})),p.Ob(8,"ion-list",5),p.Ob(9,"ion-item",6),p.Jb(10,"ion-input",7),p.Nb(),p.Ob(11,"div",8),p.tc(12,u,2,1,"ng-container",9),p.Nb(),p.Ob(13,"div",10),p.Ob(14,"ion-item",6),p.Ob(15,"app-show-hide-password"),p.Jb(16,"ion-input",11),p.Nb(),p.Nb(),p.Ob(17,"div",8),p.tc(18,l,2,1,"ng-container",9),p.Nb(),p.Ob(19,"ion-item",6),p.Ob(20,"app-show-hide-password"),p.Jb(21,"ion-input",12),p.Nb(),p.Nb(),p.Ob(22,"div",8),p.tc(23,f,2,1,"ng-container",9),p.Nb(),p.Nb(),p.Ob(24,"div",8),p.tc(25,w,2,1,"ng-container",9),p.Nb(),p.Nb(),p.Ob(26,"ion-button",13),p.vc(27,"Sign Up"),p.Nb(),p.tc(28,O,5,1,"div",14),p.Ob(29,"ion-row",15),p.Ob(30,"ion-button",16),p.vc(31," Already have an account? "),p.Nb(),p.Nb(),p.Nb(),p.Ob(32,"div",17),p.Ob(33,"p",18),p.vc(34,"Or"),p.Nb(),p.Ob(35,"ion-button",19),p.Wb("click",(function(){return n.doFacebookSignup()})),p.vc(36,"Sign Up with Facebook"),p.Nb(),p.Ob(37,"ion-button",20),p.Wb("click",(function(){return n.doGoogleSignup()})),p.vc(38,"Sign Up with Google"),p.Nb(),p.Ob(39,"ion-button",21),p.Wb("click",(function(){return n.doTwitterSignup()})),p.vc(40,"Sign Up with Twitter"),p.Nb(),p.Nb(),p.Nb()),2&t&&(p.yb(7),p.fc("formGroup",n.signupForm),p.yb(5),p.fc("ngForOf",n.validation_messages.email),p.yb(6),p.fc("ngForOf",n.validation_messages.password),p.yb(5),p.fc("ngForOf",n.validation_messages.confirm_password),p.yb(2),p.fc("ngForOf",n.validation_messages.matching_passwords),p.yb(1),p.fc("disabled",!n.signupForm.valid),p.yb(2),p.fc("ngIf",n.submitError),p.yb(2),p.fc("routerLink",p.hc(8,_)))},directives:[s.u,s.cb,s.i,s.e,s.f,s.p,o.r,o.m,o.f,s.B,s.x,s.w,s.mb,o.l,o.d,e.l,o.g,b.a,s.h,e.m,s.L,s.kb,r.h,s.v],styles:["[_nghost-%COMP%]{--page-margin:var(--app-broad-margin);--page-background:var(--app-background-shade)}.signup-content[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%]{--background:var(--page-background)}.signup-content[_ngcontent-%COMP%]{--padding-start:var(--page-margin);--padding-end:var(--page-margin);--padding-top:var(--page-margin);--padding-bottom:var(--page-margin)}.signup-content[_ngcontent-%COMP%]   .auth-title[_ngcontent-%COMP%]{color:var(--ion-color-dark);font-weight:700;margin-top:calc(var(--page-margin) / 2);margin-bottom:calc(var(--page-margin) * (3/2));letter-spacing:.6px}.signup-content[_ngcontent-%COMP%]   .inputs-list[_ngcontent-%COMP%]{--ion-item-background:var(--page-background)}.signup-content[_ngcontent-%COMP%]   .inputs-list[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]{--padding-start:0px;--padding-end:0px;--inner-padding-end:0px}.signup-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{margin:calc(var(--page-margin) / 2) 0;display:flex;align-items:center;color:var(--ion-color-danger);font-size:14px}.signup-content[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{-webkit-padding-end:calc(var(--page-margin) / 2);padding-inline-end:calc(var(--page-margin) / 2)}.signup-content[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]{margin:calc(var(--page-margin) / 2) 0}.signup-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]{justify-content:flex-end;align-items:center}.signup-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]{--color:var(--ion-color-secondary);margin:0}.signup-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:focus{outline:none}.signup-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .options-divider[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin:var(--page-margin) 0;text-align:center}.signup-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .social-auth-btn[_ngcontent-%COMP%]{margin:0}.signup-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .social-auth-btn[_ngcontent-%COMP%]:not(:first-child){margin-top:var(--page-margin)}"]}),t})();var y=i("j1ZV");const C=[{path:"",component:P}];let M=(()=>{class t{}return t.\u0275mod=p.Gb({type:t}),t.\u0275inj=p.Fb({factory:function(n){return new(n||t)},imports:[[e.c,o.h,o.o,s.db,r.k.forChild(C),y.a]]}),t})()}}]);