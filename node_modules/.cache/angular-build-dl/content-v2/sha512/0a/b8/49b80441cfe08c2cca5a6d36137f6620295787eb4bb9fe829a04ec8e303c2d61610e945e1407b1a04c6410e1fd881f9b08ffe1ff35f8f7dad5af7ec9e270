{"version":3,"sources":["webpack:///node_modules/@capacitor-community/facebook-login/dist/esm/web.js","webpack:///node_modules/@capacitor-community/facebook-login/dist/esm/definitions.js","webpack:///src/app/facebook-provider.service.ts","webpack:///node_modules/@capacitor-community/facebook-login/dist/esm/index.js"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","FacebookLoginWeb","name","platforms","options","console","log","FB","login","response","debug","status","accessToken","token","authResponse","scope","permissions","join","logout","getLoginStatus","applicationId","declinedPermissions","expires","isExpired","lastRefresh","userId","userID","fields","api","error","message","FacebookLogin","Storage","FacebookProviderService","http","user","setupFbLogin","fbLogin","FACEBOOK_PERMISSIONS","undefined","loadUserData","getCurrentToken","set","key","JSON","stringify","getCurrentAccessToken","url","get","toPromise","res","remove","isActiveUser","ret","creds","parse","providedIn"],"mappings":"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","file":"default~categories-categories-module~contact-card-contact-card-module~walkthrough-walkthrough-module-es5.js","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { WebPlugin } from '@capacitor/core';\nexport class FacebookLoginWeb extends WebPlugin {\n    constructor() {\n        super({\n            name: 'FacebookLogin',\n            platforms: ['web'],\n        });\n    }\n    login(options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            console.log('FacebookLoginWeb.login', options);\n            return new Promise((resolve, reject) => {\n                FB.login(response => {\n                    console.debug('FB.login', response);\n                    if (response.status === 'connected') {\n                        resolve({\n                            accessToken: {\n                                token: response.authResponse.accessToken,\n                            },\n                        });\n                    }\n                    else {\n                        reject({\n                            accessToken: {\n                                token: null,\n                            },\n                        });\n                    }\n                }, { scope: options.permissions.join(',') });\n            });\n        });\n    }\n    logout() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise(resolve => {\n                FB.logout(() => resolve());\n            });\n        });\n    }\n    getCurrentAccessToken() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                FB.getLoginStatus(response => {\n                    if (response.status === 'connected') {\n                        const result = {\n                            accessToken: {\n                                applicationId: null,\n                                declinedPermissions: [],\n                                expires: null,\n                                isExpired: null,\n                                lastRefresh: null,\n                                permissions: [],\n                                token: response.authResponse.accessToken,\n                                userId: response.authResponse.userID,\n                            },\n                        };\n                        resolve(result);\n                    }\n                    else {\n                        reject({\n                            accessToken: {\n                                token: null,\n                            },\n                        });\n                    }\n                });\n            });\n        });\n    }\n    getProfile(options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const fields = options.fields.join(',');\n            return new Promise((resolve, reject) => {\n                FB.api('/me', { fields }, response => {\n                    if (response.error) {\n                        reject(response.error.message);\n                        return;\n                    }\n                    resolve(response);\n                });\n            });\n        });\n    }\n}\nconst FacebookLogin = new FacebookLoginWeb();\nexport { FacebookLogin };\nimport { registerWebPlugin } from '@capacitor/core';\nregisterWebPlugin(FacebookLogin);\n//# sourceMappingURL=web.js.map","//# sourceMappingURL=definitions.js.map","import { Injectable } from '@angular/core';\r\n\r\nimport { FacebookLoginPlugin, FacebookLogin } from '@capacitor-community/facebook-login';\r\nimport { Plugins, registerWebPlugin } from '@capacitor/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { isPlatform } from '@ionic/angular';\r\nimport { parse } from 'path';\r\nregisterWebPlugin(FacebookLogin);\r\n\r\nconst { Storage } = Plugins;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class FacebookProviderService {\r\n\r\n  private fbLogin: FacebookLoginPlugin;\r\n  private user = null;\r\n  private token = null;\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) {\r\n    this.setupFbLogin();\r\n  }\r\n\r\n  private async setupFbLogin() {\r\n    if (isPlatform('desktop')) {\r\n      this.fbLogin = FacebookLogin;\r\n    }\r\n    else {\r\n      // Use the native imlementation inside a real app!\r\n      const { FacebookLogin } = Plugins;\r\n      this.fbLogin = FacebookLogin;\r\n    }\r\n  }\r\n\r\n  async FacebookLogin() {\r\n    console.log(\"Test 1: FacebookLogin() Starting\");\r\n    const FACEBOOK_PERMISSIONS = ['email', 'user_birthday'];\r\n    const result = await this.fbLogin.login({ permissions: FACEBOOK_PERMISSIONS });\r\n    console.log(\"Test 2: result(from fbLogin.login) != undefined ? (true) \", (result != undefined));\r\n    if (result.accessToken && result.accessToken.userId) {\r\n      this.token = result.accessToken;\r\n      this.loadUserData();\r\n    }\r\n    else if (result.accessToken && !result.accessToken.userId) {\r\n      console.log(\"Test 3: I'm on the web\");\r\n      // Web only gets the token but not the user ID\r\n      // Directly call get token to retrieve it now\r\n      await this.getCurrentToken();\r\n    }\r\n    else {\r\n      // Login failed\r\n      return false;\r\n    }\r\n    console.log(\"Test 9: Completing login. I don't believe Test 8 will have run yet, so user below is still undefined huh?\");\r\n    console.log('facebook signup, user: ', this.user);\r\n    Storage.set({\r\n      key: 'facebookCredentials',\r\n      value: JSON.stringify({\r\n        token: this.token.token,\r\n        userId: this.token.userId\r\n      })\r\n    });\r\n    //this.router.navigate(['app/categories']);\r\n    return true;\r\n  }\r\n\r\n  private async getCurrentToken() {\r\n    console.log(\"Test 4: getCurrentToken() Starting\");\r\n    const result = await this.fbLogin.getCurrentAccessToken();\r\n    console.log(\"Test 5: result(from fbLogin.GetCurrentAccessToken() != undefined ? (true) \", (result != undefined));\r\n    if (result.accessToken) {\r\n      this.token = result.accessToken;\r\n      await this.loadUserData();\r\n      console.log(\"Test 7***: this.http.get(url).subscribe(callback) is run outside of this stack I'm guessing\")\r\n    }\r\n    else {\r\n      // Not logged in.\r\n    }\r\n  }\r\n\r\n  private async loadUserData() {\r\n    console.log(\"Test 6: loadUserData() Starting\");\r\n    console.log(\"Test 7: token = \", this.token);\r\n    const url = `https://graph.facebook.com/${this.token.userId}?fields=id,name,picture.width(720),birthday,email&access_token=${this.token.token}`;\r\n    const res = await this.http.get(url).toPromise(); //.then(res => {\r\n    console.log(\"Test 8***: doing the callback outside of the observable\");\r\n    console.log('user: ', res);\r\n    this.user = res;\r\n  }\r\n\r\n  async FacebookLogout() {\r\n    this.user = null;\r\n    this.token = null;\r\n    Storage.remove( {key: 'facebookCredentials'} );\r\n    await this.fbLogin.logout().catch((error) => {\r\n      console.log(\"No access token, kick user\");\r\n    });\r\n  }\r\n\r\n  // Return a copy of the Facebook data to caller for information like user name, email, picture, etc..\r\n  public async getUser() {\r\n    if (this.user != null) { return this.user; }\r\n    let res = await this.isActiveUser();\r\n    if (res) { return this.user; }\r\n    return null;\r\n  }\r\n\r\n  private async isActiveUser() {\r\n    const ret = await Storage.get({ key: 'facebookCredentials'});\r\n    const creds = JSON.parse(ret.value);\r\n    if (creds == null) { return false; }\r\n    const url = `https://graph.facebook.com/${creds.userId}?fields=id,name,picture.width(720),birthday,email&access_token=${creds.token}`;\r\n    const res = await this.http.get(url).toPromise().catch((error) => {\r\n      console.log(\"Failed to load Facebook data, error: \", error);\r\n      Storage.remove( {key: 'facebookCredentials'});\r\n      return null;\r\n    });\r\n    if (res == null) { return false; }\r\n    console.log(\"res (from isActiveuser()): \", res);\r\n    this.user = res;\r\n    return true;\r\n  }\r\n}\r\n","export * from './definitions';\nexport * from './web';\n//# sourceMappingURL=index.js.map"]}