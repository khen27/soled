{"version":3,"sources":["webpack:///node_modules/capacitor-firebase-auth/dist/esm/facades.js","webpack:///node_modules/firebase/auth/dist/index.esm.js","webpack:///node_modules/capacitor-firebase-auth/dist/esm/providers/facebook.provider.js","webpack:///node_modules/capacitor-firebase-auth/dist/esm/providers/phone.provider.js","webpack:///node_modules/capacitor-firebase-auth/dist/esm/providers/twitter.provider.js","webpack:///node_modules/capacitor-firebase-auth/dist/esm/web.js","webpack:///src/app/firebase/auth/firebase-auth.service.ts","webpack:///node_modules/@angular/fire/__ivy_ngcc__/fesm2015/angular-fire-auth.js","webpack:///src/app/firebase/auth/profile/firebase-profile.model.ts","webpack:///node_modules/capacitor-firebase-auth/dist/esm/operators.js","webpack:///src/app/firebase/auth/firebase-auth.module.ts","webpack:///src/app/shell/data-store.ts","webpack:///node_modules/capacitor-firebase-auth/dist/esm/providers/google.provider.js","webpack:///node_modules/capacitor-firebase-auth/dist/esm/definitions.js","webpack:///node_modules/capacitor-firebase-auth/dist/esm/index.js"],"names":["plugin","CapacitorFirebaseAuth","platform","cfaSignIn","providerId","data","googleProvider","GoogleAuthProvider","facebookProvider","FacebookAuthProvider","twitterProvider","TwitterAuthProvider","phoneProvider","PhoneAuthProvider","cfaSignInGoogle","cfaSignInTwitter","cfaSignInFacebook","cfaSignInPhone","phone","verificationCode","Error","observer","PROVIDER_ID","signIn","then","result","credential","idToken","auth","signInWithCredential","userCredential","next","user","complete","reject","error","secret","verificationId","cfaSignInPhoneOnCodeSent","addListener","event","cfaSignInPhoneOnCodeReceived","cfaSignOut","signOut","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","fulfilled","step","e","rejected","done","apply","facebookSignInWeb","provider","useDeviceLanguage","signInWithPopup","accessToken","phoneSignInWeb","options","twitterSignInWeb","CapacitorFirebaseAuthWeb","name","platforms","console","log","FirebaseAuthService","angularFire","platformId","redirectResult","onAuthStateChanged","currentUser","is","getRedirectResult","userProviderAdditionalInfo","additionalUserInfo","profile","code","asObservable","signInProviderId","photoURL","replace","split","email","password","signInWithEmailAndPassword","createUserWithEmailAndPassword","providerName","scopes","OAuthProvider","forEach","scope","addScope","signInWithRedirect","socialSignIn","setUserModelForProfile","pipe","userModel","provierData","providerData","userData","image","getPhotoURL","displayName","role","description","phoneNumber","dataSource","shellModel","profileDataStore","load","AngularFireAuth","nameOrConfig","zone","schedulers","keepUnstableUntilFirst","undefined","outsideAngular","runOutsideAngular","app","bufferSize","refCount","authState","idTokenResult","_","subscribe","bind","onIdTokenChanged","getIdToken","getIdTokenResult","ɵfac","AngularFireAuth_Factory","t","ctorParameters","type","decorators","args","Object","ɵprov","factory","token","providedIn","AngularFireAuthModule","ɵmod","ɵinj","AngularFireAuthModule_Factory","providers","FirebaseProfileModel","mapUserToUserInfo","uid","mapUserCredentialToUserInfo","routes","path","children","redirectTo","pathMatch","loadChildren","m","FirebaseSignInPageModule","FirebaseSignUpPageModule","FirebaseProfilePageModule","FirebaseAuthModule","forChild","initializeApp","firebase","imports","ShellModel","isShell","DataStore","networkDelay","appShellConfig","timeline","dataSourceObservable","delay","processedDataSource","AppendShell","dataValue","dataObservable","delayObservable","delayValue","assign","googleSignInWeb","GoogleSignInResult","TwitterSignInResult","FacebookSignInResult","PhoneSignInResult"],"mappings":"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","file":"firebase-auth-firebase-auth-module-es5.js","sourcesContent":["import { registerWebPlugin, Plugins, Capacitor } from '@capacitor/core';\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { CapacitorFirebaseAuth } from './web';\r\nconst plugin = Plugins.CapacitorFirebaseAuth;\r\nif (Capacitor.platform === 'web') {\r\n    registerWebPlugin(CapacitorFirebaseAuth);\r\n}\r\n/**\r\n * Call the sign in method on native layer and sign in on web layer with retrieved credentials.\r\n * @param providerId The provider identification.\r\n * @param data The provider additional information (optional).\r\n */\r\nexport const cfaSignIn = (providerId, data) => {\r\n    const googleProvider = new firebase.auth.GoogleAuthProvider().providerId;\r\n    const facebookProvider = new firebase.auth.FacebookAuthProvider().providerId;\r\n    const twitterProvider = new firebase.auth.TwitterAuthProvider().providerId;\r\n    const phoneProvider = new firebase.auth.PhoneAuthProvider().providerId;\r\n    switch (providerId) {\r\n        case googleProvider:\r\n            return cfaSignInGoogle();\r\n        case twitterProvider:\r\n            return cfaSignInTwitter();\r\n        case facebookProvider:\r\n            return cfaSignInFacebook();\r\n        case phoneProvider:\r\n            return cfaSignInPhone(data.phone, data.verificationCode);\r\n        default:\r\n            return throwError(new Error(`The '${providerId}' provider was not supported`));\r\n    }\r\n};\r\n/**\r\n * Call the Google sign in method on native layer and sign in on web layer with retrieved credentials.\r\n */\r\nexport const cfaSignInGoogle = () => {\r\n    return new Observable(observer => {\r\n        // get the provider id\r\n        const providerId = firebase.auth.GoogleAuthProvider.PROVIDER_ID;\r\n        // native sign in\r\n        plugin.signIn({ providerId }).then((result) => {\r\n            // create the credentials\r\n            const credential = firebase.auth.GoogleAuthProvider.credential(result.idToken);\r\n            // web sign in\r\n            firebase.app().auth().signInWithCredential(credential)\r\n                .then((userCredential) => {\r\n                observer.next(userCredential.user);\r\n                observer.complete();\r\n            })\r\n                .catch((reject) => {\r\n                observer.error(reject);\r\n            });\r\n        }).catch(reject => {\r\n            observer.error(reject);\r\n        });\r\n    });\r\n};\r\n/**\r\n * Call the Twitter sign in method on native and sign in on web layer with retrieved credentials.\r\n */\r\nexport const cfaSignInTwitter = () => {\r\n    return new Observable(observer => {\r\n        // get the provider id\r\n        const providerId = firebase.auth.TwitterAuthProvider.PROVIDER_ID;\r\n        // native sign in\r\n        plugin.signIn({ providerId }).then((result) => {\r\n            // create the credentials\r\n            const credential = firebase.auth.TwitterAuthProvider.credential(result.idToken, result.secret);\r\n            // web sign in\r\n            firebase.app().auth().signInWithCredential(credential)\r\n                .then((userCredential) => {\r\n                observer.next(userCredential.user);\r\n                observer.complete();\r\n            })\r\n                .catch((reject) => observer.error(reject));\r\n        }).catch(reject => observer.error(reject));\r\n    });\r\n};\r\n/**\r\n * Call the Facebook sign in method on native and sign in on web layer with retrieved credentials.\r\n */\r\nexport const cfaSignInFacebook = () => {\r\n    return new Observable(observer => {\r\n        // get the provider id\r\n        const providerId = firebase.auth.FacebookAuthProvider.PROVIDER_ID;\r\n        // native sign in\r\n        plugin.signIn({ providerId }).then((result) => {\r\n            // create the credentials\r\n            const credential = firebase.auth.FacebookAuthProvider.credential(result.idToken);\r\n            // web sign in\r\n            firebase.app().auth().signInWithCredential(credential)\r\n                .then((userCredential) => {\r\n                observer.next(userCredential.user);\r\n                observer.complete();\r\n            })\r\n                .catch((reject) => observer.error(reject));\r\n        }).catch(reject => observer.error(reject));\r\n    });\r\n};\r\n/**\r\n * Call the Phone verification sign in, handling send and retrieve to code on native, but only sign in on web with retrieved credentials.\r\n * @param phone The user phone number.\r\n * @param verificationCode The verification code sent by SMS (optional).\r\n */\r\nexport const cfaSignInPhone = (phone, verificationCode) => {\r\n    return new Observable(observer => {\r\n        // get the provider id\r\n        const providerId = firebase.auth.PhoneAuthProvider.PROVIDER_ID;\r\n        plugin.signIn({ providerId, data: { phone, verificationCode } }).then((result) => {\r\n            // if there is no verification code\r\n            if (!result.verificationCode) {\r\n                return observer.complete();\r\n            }\r\n            // create the credentials\r\n            const credential = firebase.auth.PhoneAuthProvider.credential(result.verificationId, result.verificationCode);\r\n            // web sign in\r\n            firebase.app().auth().signInWithCredential(credential)\r\n                .then((userCredential) => {\r\n                observer.next(userCredential.user);\r\n                observer.complete();\r\n            })\r\n                .catch((reject) => observer.error(reject));\r\n        }).catch(reject => observer.error(reject));\r\n    });\r\n};\r\n/**\r\n * Observable of one notification of <code>On Code Sent</code>event from Phone Verification process.\r\n */\r\nexport const cfaSignInPhoneOnCodeSent = () => {\r\n    return new Observable(observer => {\r\n        // @ts-ignore\r\n        return plugin.addListener('cfaSignInPhoneOnCodeSent', (event) => {\r\n            observer.next(event.verificationId);\r\n            observer.complete();\r\n        });\r\n    });\r\n};\r\n/**\r\n * Observable of one notification of <code>On Code Received</code> event from Phone Verification process.\r\n */\r\nexport const cfaSignInPhoneOnCodeReceived = () => {\r\n    return new Observable(observer => {\r\n        // @ts-ignore\r\n        return plugin.addListener('cfaSignInPhoneOnCodeReceived', (event) => {\r\n            observer.next(event);\r\n            observer.complete();\r\n        });\r\n    });\r\n};\r\n/**\r\n * Call Google sign out method on native and web layers.\r\n */\r\nexport const cfaSignOut = () => {\r\n    return new Observable(observer => {\r\n        plugin.signOut({}).then(() => {\r\n            // web sign out\r\n            firebase.app().auth().signOut()\r\n                .then(() => {\r\n                observer.next();\r\n                observer.complete();\r\n            })\r\n                .catch((reject) => observer.error(reject));\r\n        });\r\n    });\r\n};\r\n//# sourceMappingURL=facades.js.map","import '@firebase/auth';\r\n//# sourceMappingURL=index.esm.js.map\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport { FacebookSignInResult } from '../definitions';\r\nexport const facebookSignInWeb = () => __awaiter(void 0, void 0, void 0, function* () {\r\n    const provider = new firebase.auth.FacebookAuthProvider();\r\n    firebase.auth().useDeviceLanguage();\r\n    const userCredential = yield firebase.auth().signInWithPopup(provider);\r\n    const { credential } = userCredential;\r\n    return new FacebookSignInResult(credential.accessToken);\r\n});\r\n//# sourceMappingURL=facebook.provider.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport 'firebase/auth';\r\nexport const phoneSignInWeb = (options) => __awaiter(void 0, void 0, void 0, function* () {\r\n    // const provider = new firebase.auth.PhoneAuthProvider();\r\n    return Promise.reject(`The '${options.providerId}' provider was not implemented for web yet`);\r\n});\r\n//# sourceMappingURL=phone.provider.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport { TwitterSignInResult } from '../definitions';\r\nexport const twitterSignInWeb = () => __awaiter(void 0, void 0, void 0, function* () {\r\n    try {\r\n        const provider = new firebase.auth.TwitterAuthProvider();\r\n        firebase.auth().useDeviceLanguage();\r\n        const userCredential = yield firebase.auth().signInWithPopup(provider);\r\n        const { credential } = userCredential;\r\n        return new TwitterSignInResult(credential.accessToken, credential.secret);\r\n    }\r\n    catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n});\r\n//# sourceMappingURL=twitter.provider.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { registerWebPlugin, WebPlugin } from '@capacitor/core';\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport { facebookSignInWeb } from './providers/facebook.provider';\r\nimport { googleSignInWeb } from './providers/google.provider';\r\nimport { phoneSignInWeb } from './providers/phone.provider';\r\nimport { twitterSignInWeb } from './providers/twitter.provider';\r\nexport class CapacitorFirebaseAuthWeb extends WebPlugin {\r\n    constructor() {\r\n        super({\r\n            name: 'CapacitorFirebaseAuth',\r\n            platforms: ['web']\r\n        });\r\n    }\r\n    signIn(options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const googleProvider = new firebase.auth.GoogleAuthProvider().providerId;\r\n            const facebookProvider = new firebase.auth.FacebookAuthProvider().providerId;\r\n            const twitterProvider = new firebase.auth.TwitterAuthProvider().providerId;\r\n            const phoneProvider = new firebase.auth.PhoneAuthProvider().providerId;\r\n            switch (options.providerId) {\r\n                case googleProvider:\r\n                    return googleSignInWeb(options);\r\n                case twitterProvider:\r\n                    return twitterSignInWeb(options);\r\n                case facebookProvider:\r\n                    return facebookSignInWeb(options);\r\n                case phoneProvider:\r\n                    return phoneSignInWeb(options);\r\n            }\r\n            return Promise.reject(`The '${options.providerId}' provider was not supported`);\r\n        });\r\n    }\r\n    signOut(options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            console.log(options);\r\n            return firebase.auth().signOut();\r\n        });\r\n    }\r\n}\r\nconst CapacitorFirebaseAuth = new CapacitorFirebaseAuthWeb();\r\nexport { CapacitorFirebaseAuth };\r\n// Register as a web plugin\r\nregisterWebPlugin(CapacitorFirebaseAuth);\r\n//# sourceMappingURL=web.js.map","import { Inject, Injectable, PLATFORM_ID } from '@angular/core';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { Observable, Subject, from, of } from 'rxjs';\r\nimport { DataStore } from '../../shell/data-store';\r\nimport { FirebaseProfileModel } from './profile/firebase-profile.model';\r\nimport { Platform } from '@ionic/angular';\r\nimport { filter, map } from 'rxjs/operators';\r\n\r\nimport { User, auth } from 'firebase/app';\r\nimport { cfaSignIn, cfaSignOut } from 'capacitor-firebase-auth';\r\nimport { isPlatformBrowser } from '@angular/common';\r\n\r\n@Injectable()\r\nexport class FirebaseAuthService {\r\n\r\n  currentUser: User;\r\n  userProviderAdditionalInfo: any;\r\n  profileDataStore: DataStore<FirebaseProfileModel>;\r\n  redirectResult: Subject<any> = new Subject<any>();\r\n\r\n\r\n  constructor(\r\n    public angularFire: AngularFireAuth,\r\n    public platform: Platform,\r\n    @Inject(PLATFORM_ID) private platformId: object\r\n  ) {\r\n    if (isPlatformBrowser(this.platformId)) {\r\n      this.angularFire.onAuthStateChanged((user) => {\r\n        if (user) {\r\n          // User is signed in.\r\n          this.currentUser = user;\r\n        } else {\r\n          // No user is signed in.\r\n          this.currentUser = null;\r\n        }\r\n      });\r\n\r\n      if (!this.platform.is('capacitor')) {\r\n        // when using signInWithRedirect, this listens for the redirect results\r\n        this.angularFire.getRedirectResult()\r\n        .then((result) => {\r\n          // result.credential.accessToken gives you the Provider Access Token. You can use it to access the Provider API.\r\n          if (result.user) {\r\n            this.userProviderAdditionalInfo = result.additionalUserInfo.profile;\r\n            this.redirectResult.next(result);\r\n          }\r\n        }, (error) => {\r\n          this.redirectResult.next({error: error.code});\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  getRedirectResult(): Observable<any> {\r\n    return this.redirectResult.asObservable();\r\n  }\r\n\r\n  getPhotoURL(signInProviderId: string, photoURL: string): string {\r\n    // Default imgs are too small and our app needs a bigger image\r\n    switch (signInProviderId) {\r\n      case 'facebook.com':\r\n        return photoURL + '?height=400';\r\n      case 'password':\r\n        return 'https://s3-us-west-2.amazonaws.com/ionicthemes/otros/avatar-placeholder.png';\r\n      case 'twitter.com':\r\n        return photoURL.replace('_normal', '_400x400');\r\n      case 'google.com':\r\n        return photoURL.split('=')[0];\r\n      default:\r\n        return photoURL;\r\n    }\r\n  }\r\n\r\n  signOut(): Observable<any> {\r\n    if (this.platform.is('capacitor')) {\r\n      return cfaSignOut();\r\n    } else {\r\n      return from(this.angularFire.signOut());\r\n    }\r\n  }\r\n\r\n  signInWithEmail(email: string, password: string): Promise<auth.UserCredential> {\r\n    return this.angularFire.signInWithEmailAndPassword(email, password);\r\n  }\r\n\r\n  signUpWithEmail(email: string, password: string): Promise<auth.UserCredential> {\r\n    return this.angularFire.createUserWithEmailAndPassword(email, password);\r\n  }\r\n\r\n  socialSignIn(providerName: string, scopes?: Array<string>): Observable<any> {\r\n    if (this.platform.is('capacitor')) {\r\n      return cfaSignIn(providerName);\r\n    } else {\r\n      const provider = new auth.OAuthProvider(providerName);\r\n\r\n      if (scopes) {\r\n        scopes.forEach(scope => {\r\n          provider.addScope(scope);\r\n        });\r\n      }\r\n\r\n      if (this.platform.is('desktop')) {\r\n        return from(this.angularFire.signInWithPopup(provider));\r\n      } else {\r\n        // web but not desktop, for example mobile PWA\r\n        return from(this.angularFire.signInWithRedirect(provider));\r\n      }\r\n    }\r\n  }\r\n\r\n  signInWithFacebook() {\r\n    const provider = new auth.FacebookAuthProvider();\r\n    return this.socialSignIn(provider.providerId);\r\n  }\r\n\r\n  signInWithGoogle() {\r\n    const provider = new auth.GoogleAuthProvider();\r\n    const scopes = ['profile', 'email'];\r\n    return this.socialSignIn(provider.providerId, scopes);\r\n  }\r\n\r\n  signInWithTwitter() {\r\n    const provider = new auth.TwitterAuthProvider();\r\n    return this.socialSignIn(provider.providerId);\r\n  }\r\n\r\n  public getProfileDataSource(): Observable<FirebaseProfileModel> {\r\n    // we need to do this differentiation because there is a bug in\r\n    // platform capacitor ios when executing this.angularFire.user\r\n    if (this.platform.is('capacitor')) {\r\n      return of(this.setUserModelForProfile());\r\n    } else {\r\n      return this.angularFire.user\r\n      .pipe(\r\n        filter((user: User) => user != null),\r\n        map((user: User) => {\r\n          return this.setUserModelForProfile();\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  private setUserModelForProfile(): FirebaseProfileModel {\r\n    const userModel = new FirebaseProfileModel();\r\n    const provierData = this.currentUser.providerData[0];\r\n    const userData = this.userProviderAdditionalInfo ? this.userProviderAdditionalInfo : provierData;\r\n    userModel.image = this.getPhotoURL(provierData.providerId, provierData.photoURL);\r\n    userModel.name = userData.name || userData.displayName || 'What\\'s your name?';\r\n    userModel.role = 'How would you describe yourself?';\r\n    userModel.description = userData.description || 'Anything else you would like to share with the world?';\r\n    userModel.phoneNumber = userData.phoneNumber || 'Is there a number where I can reach you?';\r\n    userModel.email = userData.email || 'Where can I send you emails?';\r\n    userModel.provider = (provierData.providerId !== 'password') ? provierData.providerId : 'Credentials';\r\n\r\n    return userModel;\r\n  }\r\n\r\n  public getProfileStore(dataSource: Observable<FirebaseProfileModel>): DataStore<FirebaseProfileModel> {\r\n    // Initialize the model specifying that it is a shell model\r\n    const shellModel: FirebaseProfileModel = new FirebaseProfileModel();\r\n    this.profileDataStore = new DataStore(shellModel);\r\n    // Trigger the loading mechanism (with shell) in the dataStore\r\n    this.profileDataStore.load(dataSource);\r\n    return this.profileDataStore;\r\n  }\r\n}\r\n","import { Injectable, Inject, Optional, PLATFORM_ID, NgZone, ɵɵdefineInjectable, ɵɵinject, NgModule } from '@angular/core';\r\nimport { of, Observable, from } from 'rxjs';\r\nimport { observeOn, switchMap, map, shareReplay, first } from 'rxjs/operators';\r\nimport { ɵAngularFireSchedulers, ɵkeepUnstableUntilFirstFactory, ɵfirebaseAppFactory, ɵlazySDKProxy, FIREBASE_OPTIONS, FIREBASE_APP_NAME } from '@angular/fire';\r\nimport { isPlatformServer } from '@angular/common';\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: auth.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n// WARNING: interface has both a type and a value, skipping emit\r\nimport * as ɵngcc0 from '@angular/core';\r\nclass AngularFireAuth {\r\n    /**\r\n     * @param {?} options\r\n     * @param {?} nameOrConfig\r\n     * @param {?} platformId\r\n     * @param {?} zone\r\n     */\r\n    constructor(options, nameOrConfig, \r\n    // tslint:disable-next-line:ban-types\r\n    platformId, zone) {\r\n        /** @type {?} */\r\n        const schedulers = new ɵAngularFireSchedulers(zone);\r\n        /** @type {?} */\r\n        const keepUnstableUntilFirst = ɵkeepUnstableUntilFirstFactory(schedulers);\r\n        /** @type {?} */\r\n        const auth = of(undefined).pipe(observeOn(schedulers.outsideAngular), switchMap((/**\r\n         * @return {?}\r\n         */\r\n        () => zone.runOutsideAngular((/**\r\n         * @return {?}\r\n         */\r\n        () => import('firebase/auth'))))), map((/**\r\n         * @return {?}\r\n         */\r\n        () => ɵfirebaseAppFactory(options, zone, nameOrConfig))), map((/**\r\n         * @param {?} app\r\n         * @return {?}\r\n         */\r\n        app => zone.runOutsideAngular((/**\r\n         * @return {?}\r\n         */\r\n        () => app.auth())))), shareReplay({ bufferSize: 1, refCount: false }));\r\n        if (isPlatformServer(platformId)) {\r\n            this.authState = this.user = this.idToken = this.idTokenResult = of(null);\r\n        }\r\n        else {\r\n            // HACK, as we're exporting auth.Auth, rather than auth, developers importing firebase.auth\r\n            //       (e.g, `import { auth } from 'firebase/app'`) are getting an undefined auth object unexpectedly\r\n            //       as we're completely lazy. Let's eagerly load the Auth SDK here.\r\n            //       There could potentially be race conditions still... but this greatly decreases the odds while\r\n            //       we reevaluate the API.\r\n            /** @type {?} */\r\n            const _ = auth.pipe(first()).subscribe();\r\n            this.authState = auth.pipe(switchMap((/**\r\n             * @param {?} auth\r\n             * @return {?}\r\n             */\r\n            auth => auth.getRedirectResult().then((/**\r\n             * @return {?}\r\n             */\r\n            () => auth)))), switchMap((/**\r\n             * @param {?} auth\r\n             * @return {?}\r\n             */\r\n            auth => zone.runOutsideAngular((/**\r\n             * @return {?}\r\n             */\r\n            () => new Observable(auth.onAuthStateChanged.bind(auth)))))), keepUnstableUntilFirst);\r\n            this.user = auth.pipe(switchMap((/**\r\n             * @param {?} auth\r\n             * @return {?}\r\n             */\r\n            auth => auth.getRedirectResult().then((/**\r\n             * @return {?}\r\n             */\r\n            () => auth)))), switchMap((/**\r\n             * @param {?} auth\r\n             * @return {?}\r\n             */\r\n            auth => zone.runOutsideAngular((/**\r\n             * @return {?}\r\n             */\r\n            () => new Observable(auth.onIdTokenChanged.bind(auth)))))), keepUnstableUntilFirst);\r\n            this.idToken = this.user.pipe(switchMap((/**\r\n             * @param {?} user\r\n             * @return {?}\r\n             */\r\n            user => user ? from(user.getIdToken()) : of(null))));\r\n            this.idTokenResult = this.user.pipe(switchMap((/**\r\n             * @param {?} user\r\n             * @return {?}\r\n             */\r\n            user => user ? from(user.getIdTokenResult()) : of(null))));\r\n        }\r\n        return ɵlazySDKProxy(this, auth, zone);\r\n    }\r\n}\r\nAngularFireAuth.ɵfac = function AngularFireAuth_Factory(t) { return new (t || AngularFireAuth)(ɵngcc0.ɵɵinject(FIREBASE_OPTIONS), ɵngcc0.ɵɵinject(FIREBASE_APP_NAME, 8), ɵngcc0.ɵɵinject(PLATFORM_ID), ɵngcc0.ɵɵinject(ɵngcc0.NgZone)); };\r\n/** @nocollapse */\r\nAngularFireAuth.ctorParameters = () => [\r\n    { type: undefined, decorators: [{ type: Inject, args: [FIREBASE_OPTIONS,] }] },\r\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [FIREBASE_APP_NAME,] }] },\r\n    { type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },\r\n    { type: NgZone }\r\n];\r\n/** @nocollapse */ AngularFireAuth.ɵprov = ɵɵdefineInjectable({ factory: function AngularFireAuth_Factory() { return new AngularFireAuth(ɵɵinject(FIREBASE_OPTIONS), ɵɵinject(FIREBASE_APP_NAME, 8), ɵɵinject(PLATFORM_ID), ɵɵinject(NgZone)); }, token: AngularFireAuth, providedIn: \"any\" });\r\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(AngularFireAuth, [{\r\n        type: Injectable,\r\n        args: [{\r\n                providedIn: 'any'\r\n            }]\r\n    }], function () { return [{ type: undefined, decorators: [{\r\n                type: Inject,\r\n                args: [FIREBASE_OPTIONS]\r\n            }] }, { type: undefined, decorators: [{\r\n                type: Optional\r\n            }, {\r\n                type: Inject,\r\n                args: [FIREBASE_APP_NAME]\r\n            }] }, { type: Object, decorators: [{\r\n                type: Inject,\r\n                args: [PLATFORM_ID]\r\n            }] }, { type: ɵngcc0.NgZone }]; }, null); })();\r\nif (false) {\r\n    /**\r\n     * Observable of authentication state; as of Firebase 4.0 this is only triggered via sign-in/out\r\n     * @type {?}\r\n     */\r\n    AngularFireAuth.prototype.authState;\r\n    /**\r\n     * Observable of the currently signed-in user's JWT token used to identify the user to a Firebase service (or null).\r\n     * @type {?}\r\n     */\r\n    AngularFireAuth.prototype.idToken;\r\n    /**\r\n     * Observable of the currently signed-in user (or null).\r\n     * @type {?}\r\n     */\r\n    AngularFireAuth.prototype.user;\r\n    /**\r\n     * Observable of the currently signed-in user's IdTokenResult object which contains the ID token JWT string and other\r\n     * helper properties for getting different data associated with the token as well as all the decoded payload claims\r\n     * (or null).\r\n     * @type {?}\r\n     */\r\n    AngularFireAuth.prototype.idTokenResult;\r\n}\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: auth.module.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nclass AngularFireAuthModule {\r\n}\r\nAngularFireAuthModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: AngularFireAuthModule });\r\nAngularFireAuthModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function AngularFireAuthModule_Factory(t) { return new (t || AngularFireAuthModule)(); }, providers: [AngularFireAuth] });\r\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(AngularFireAuthModule, [{\r\n        type: NgModule,\r\n        args: [{\r\n                providers: [AngularFireAuth]\r\n            }]\r\n    }], null, null); })();\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: public_api.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n\r\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: angular-fire-auth.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n\r\nexport { AngularFireAuth, AngularFireAuthModule };\r\n\r\n//# sourceMappingURL=angular-fire-auth.js.map","import { ShellModel } from '../../../shell/data-store';\r\n\r\nexport class FirebaseProfileModel extends ShellModel {\r\n  image: string;\r\n  name: string;\r\n  role: string;\r\n  description: string;\r\n  email: string;\r\n  provider: string;\r\n  phoneNumber: string;\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n}\r\n","import { of, pipe } from 'rxjs';\r\nimport { switchMap } from 'rxjs/operators';\r\n/**\r\n * Operator to map firebase.User to firebase.UserInfo.\r\n *\r\n * Sample of use:\r\n *\r\n * ```ts\r\n * import {cfaSignIn, mapUserToUserInfo} from 'capacitor-firebase-auth';\r\n * import {UserInfo} from 'firebase/app';\r\n *\r\n * cfaSignIn('google.com').pipe(\r\n *     mapUserToUserInfo(),\r\n * ).subscribe(\r\n *     (user: UserInfo) => console.log(user.displayName);\r\n * )\r\n * ```\r\n */\r\nexport const mapUserToUserInfo = () => pipe(switchMap((user) => {\r\n    if (user) {\r\n        const { uid, providerId, displayName, photoURL, phoneNumber, email } = user;\r\n        return of({ uid, providerId, displayName, photoURL, phoneNumber, email });\r\n    }\r\n    return of(user);\r\n}));\r\n/**\r\n * Operator to map firebase.auth.UserCredential to firebase.UserInfo.\r\n *\r\n * For use with alternative facade only.\r\n *\r\n * Sample of use:\r\n *\r\n * ```ts\r\n * import {cfaSignIn, mapUserToUserInfo} from 'capacitor-firebase-auth/alternative';\r\n * import {UserInfo} from 'firebase/app';\r\n *\r\n * cfaSignIn('google.com').pipe(\r\n *     mapUserToUserInfo(),\r\n * ).subscribe(\r\n *     (user: UserInfo) => console.log(user.displayName);\r\n * )\r\n * ```\r\n */\r\nexport const mapUserCredentialToUserInfo = () => pipe(switchMap(({ userCredential }) => {\r\n    if (!!userCredential) {\r\n        const { uid, providerId, displayName, photoURL, phoneNumber, email } = userCredential.user;\r\n        return of({ uid, providerId, displayName, photoURL, phoneNumber, email });\r\n    }\r\n    return of(null);\r\n}));\r\n//# sourceMappingURL=operators.js.map","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { ComponentsModule } from '../../components/components.module';\r\nimport { AngularFireAuthModule } from '@angular/fire/auth';\r\nimport { AngularFireModule } from '@angular/fire';\r\nimport { environment } from '../../../environments/environment';\r\nimport { FirebaseAuthService } from './firebase-auth.service';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    children: [\r\n      // /firebase/auth redirect\r\n      {\r\n        path: '',\r\n        redirectTo: 'sign-in',\r\n        pathMatch: 'full',\r\n      },\r\n      {\r\n        path: 'sign-in',\r\n        loadChildren: () => import('./sign-in/firebase-sign-in.module').then(m => m.FirebaseSignInPageModule)\r\n      },\r\n      {\r\n        path: 'sign-up',\r\n        loadChildren: () => import('./sign-up/firebase-sign-up.module').then(m => m.FirebaseSignUpPageModule)\r\n      },\r\n      {\r\n        path: 'profile',\r\n        loadChildren: () => import('./profile/firebase-profile.module').then(m => m.FirebaseProfilePageModule)\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    IonicModule,\r\n    ComponentsModule,\r\n    RouterModule.forChild(routes),\r\n    AngularFireModule.initializeApp(environment.firebase),\r\n    AngularFireAuthModule\r\n  ],\r\n  providers: [FirebaseAuthService]\r\n})\r\nexport class FirebaseAuthModule {}\r\n","import { Observable, of, combineLatest, ReplaySubject } from 'rxjs';\r\nimport { delay, map, startWith } from 'rxjs/operators';\r\nimport { environment } from '../../environments/environment';\r\n\r\nexport class ShellModel {\r\n  isShell = false;\r\n}\r\n\r\nexport class DataStore<T> {\r\n  // We wait on purpose 2 secs on local environment when fetching from json to simulate the backend roundtrip.\r\n  // However, in production you should set this delay to 0 in the environment.prod file.\r\n  // tslint:disable-next-line:max-line-length\r\n  private networkDelay = (environment.appShellConfig && environment.appShellConfig.networkDelay) ? environment.appShellConfig.networkDelay : 0;\r\n\r\n  private timeline: ReplaySubject<T & ShellModel> = new ReplaySubject(1);\r\n\r\n  constructor(private shellModel: T) { }\r\n\r\n  // Static function with generics\r\n  // (ref: https://stackoverflow.com/a/24293088/1116959)\r\n  // Append a shell (T & ShellModel) to every value (T) emmited to the timeline\r\n  public static AppendShell<T>(dataObservable: Observable<T>, shellModel: T, networkDelay = 400): Observable<T & ShellModel> {\r\n    const delayObservable = of(true).pipe(\r\n      delay(networkDelay)\r\n    );\r\n\r\n    // Assign shell flag accordingly\r\n    // (ref: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\r\n    return combineLatest([\r\n      delayObservable,\r\n      dataObservable\r\n    ]).pipe(\r\n      // Dismiss unnecessary delayValue\r\n      map(([delayValue, dataValue]: [boolean, T]): (T & ShellModel) => Object.assign(dataValue, {isShell: false})),\r\n      // Set the shell model as the initial value\r\n      startWith(Object.assign(shellModel, {isShell: true}))\r\n    );\r\n  }\r\n\r\n  load(dataSourceObservable: Observable<T>, networkDelay?: number): void {\r\n    // tslint:disable-next-line:no-shadowed-variable\r\n    const delay = (typeof networkDelay === 'number') ? networkDelay : this.networkDelay;\r\n\r\n    let processedDataSource: Observable<any>;\r\n\r\n    // If no network delay, then don't show shell\r\n    if (delay === 0) {\r\n      processedDataSource = dataSourceObservable;\r\n    } else {\r\n      processedDataSource = DataStore.AppendShell(dataSourceObservable, this.shellModel, delay);\r\n    }\r\n\r\n    processedDataSource\r\n    .subscribe((dataValue: T & ShellModel) => {\r\n      this.timeline.next(dataValue);\r\n    });\r\n  }\r\n\r\n  public get state(): Observable<T & ShellModel> {\r\n    return this.timeline.asObservable();\r\n  }\r\n}\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport { GoogleSignInResult } from '../definitions';\r\nexport const googleSignInWeb = () => __awaiter(void 0, void 0, void 0, function* () {\r\n    try {\r\n        const provider = new firebase.auth.GoogleAuthProvider();\r\n        firebase.auth().useDeviceLanguage();\r\n        const userCredential = yield firebase.auth().signInWithPopup(provider);\r\n        const { credential } = userCredential;\r\n        return new GoogleSignInResult(credential.idToken);\r\n    }\r\n    catch (e) {\r\n        return Promise.reject(e);\r\n    }\r\n});\r\n//# sourceMappingURL=google.provider.js.map","import * as firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nexport class GoogleSignInResult {\r\n    constructor(idToken) {\r\n        this.idToken = idToken;\r\n        this.providerId = firebase.auth.GoogleAuthProvider.PROVIDER_ID;\r\n    }\r\n}\r\nexport class TwitterSignInResult {\r\n    constructor(idToken, secret) {\r\n        this.idToken = idToken;\r\n        this.secret = secret;\r\n        this.providerId = firebase.auth.TwitterAuthProvider.PROVIDER_ID;\r\n    }\r\n}\r\nexport class FacebookSignInResult {\r\n    constructor(idToken) {\r\n        this.idToken = idToken;\r\n        this.providerId = firebase.auth.FacebookAuthProvider.PROVIDER_ID;\r\n    }\r\n}\r\nexport class PhoneSignInResult {\r\n    constructor(verificationId, verificationCode) {\r\n        this.verificationId = verificationId;\r\n        this.verificationCode = verificationCode;\r\n        this.providerId = firebase.auth.PhoneAuthProvider.PROVIDER_ID;\r\n    }\r\n}\r\n//# sourceMappingURL=definitions.js.map","export * from './definitions';\r\nexport * from './facades';\r\nexport * from './operators';\r\nexport * from './web';\r\n//# sourceMappingURL=index.js.map"]}