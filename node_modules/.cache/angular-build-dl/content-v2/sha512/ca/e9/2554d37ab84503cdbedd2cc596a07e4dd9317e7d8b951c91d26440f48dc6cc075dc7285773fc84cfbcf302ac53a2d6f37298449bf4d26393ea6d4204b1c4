{"version":3,"sources":["webpack:///src/app/travel/details/travel-details.page.ts","webpack:///src/app/travel/details/travel-details.page.html","webpack:///src/app/travel/details/travel-details.module.ts","webpack:///src/app/travel/details/travel-details.resolver.ts","webpack:///src/app/travel/details/travel-details.plain.resolver.ts"],"names":["TravelDetailsPage","route","subscriptions","data","pipe","resolvedRouteData","extractData","subscribe","state","details","error","console","log","unsubscribe","isShell","selector","templateUrl","styleUrls","routes","path","component","resolve","TravelDetailsPageModule","forChild","imports","declarations","providers","TravelDetailsResolver","travelService","dataSource","getDetailsDataSource","seoObservable","seo","title","name","description","fullDescription","keywords","category","dataStore","getDetailsStore","TravelDetailsPlainResolver"],"mappings":"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","file":"travel-details-travel-details-module-es5.js","sourcesContent":["import { Component, OnInit, HostBinding } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { IResolvedRouteData, ResolverHelper } from '../../utils/resolver-helper';\r\nimport { TravelDetailsModel } from './travel-details.model';\r\nimport { switchMap } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-travel-details',\r\n  templateUrl: './travel-details.page.html',\r\n  styleUrls: [\r\n    './styles/travel-details.page.scss',\r\n    './styles/travel-details.shell.scss'\r\n  ]\r\n})\r\nexport class TravelDetailsPage implements OnInit {\r\n  // Gather all component subscription in one place. Can be one Subscription or multiple (chained using the Subscription.add() method)\r\n  subscriptions: Subscription;\r\n\r\n  details: TravelDetailsModel;\r\n\r\n  @HostBinding('class.is-shell') get isShell() {\r\n    return (this.details && this.details.isShell) ? true : false;\r\n  }\r\n\r\n  constructor(private route: ActivatedRoute) { }\r\n\r\n  ngOnInit(): void {\r\n    this.subscriptions = this.route.data\r\n    .pipe(\r\n      // Extract data for this page\r\n      switchMap((resolvedRouteData: IResolvedRouteData<TravelDetailsModel>) => {\r\n        // tslint:disable-next-line:no-string-literal\r\n        return ResolverHelper.extractData<TravelDetailsModel>(resolvedRouteData.data['dataStore'], TravelDetailsModel);\r\n      })\r\n    )\r\n    .subscribe((state) => {\r\n      this.details = state;\r\n    }, (error) => console.log(error));\r\n  }\r\n\r\n  // NOTE: Ionic only calls ngOnDestroy if the page was popped (ex: when navigating back)\r\n  // Since ngOnDestroy might not fire when you navigate from the current page, use ionViewWillLeave to cleanup Subscriptions\r\n  ionViewWillLeave(): void {\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-back-button defaultHref=\"app/categories/travel\"></ion-back-button>\r\n    </ion-buttons>\r\n    <ion-title>Travel Details</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"travel-details-content\">\r\n  <ion-row class=\"image-row\">\r\n    <ion-col size=\"12\">\r\n      <app-image-shell [display]=\"'cover'\" animation=\"spinner\" class=\"add-overlay details-image\" [src]=\"details?.image\">\r\n        <app-aspect-ratio [ratio]=\"{w:64, h:50}\">\r\n          <div class=\"icon-wrapper\">\r\n            <app-aspect-ratio [ratio]=\"{w: 47, h: 25}\">\r\n              <app-image-shell [src]=\"details?.icon\" class=\"details-icon\"></app-image-shell>\r\n            </app-aspect-ratio>\r\n          </div>\r\n        </app-aspect-ratio>\r\n      </app-image-shell>\r\n    </ion-col>\r\n  </ion-row>\r\n  <ion-row class=\"description-row\">\r\n    <ion-col size=\"12\">\r\n      <h3 class=\"details-name\">\r\n        <app-text-shell animation=\"bouncing\" [data]=\"details?.name?.concat(' - ', details?.category)\"></app-text-shell>\r\n      </h3>\r\n      <p class=\"details-short-description\">\r\n        <app-text-shell animation=\"bouncing\" [data]=\"details?.shortDescription\"></app-text-shell>\r\n      </p>\r\n    </ion-col>\r\n    <ion-col size=\"12\">\r\n      <div class=\"details-score\">\r\n        <div class=\"score-item\">\r\n          <ion-icon class=\"score-icon\" src=\"./assets/custom-icons/travel/star.svg\"></ion-icon>\r\n          <div class=\"score-value\">\r\n            <app-text-shell [data]=\"details?.rating\"></app-text-shell>\r\n          </div>\r\n        </div>\r\n        <div class=\"score-item\">\r\n          <ion-icon class=\"score-icon\" src=\"./assets/custom-icons/travel/comments.svg\"></ion-icon>\r\n          <div class=\"score-value\">\r\n            <app-text-shell [data]=\"details?.reviewsCount\"></app-text-shell>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </ion-col>\r\n    <ion-col size=\"12\">\r\n      <ion-row class=\"details-tags\">\r\n        <ion-col class=\"tag-wrapper\" *ngFor=\"let tag of details?.tags\">\r\n          <span class=\"item-tag\">\r\n            <app-text-shell [data]=\"tag\"></app-text-shell>\r\n          </span>\r\n        </ion-col>\r\n      </ion-row>\r\n    </ion-col>\r\n    <ion-col size=\"12\">\r\n      <p class=\"details-description\">\r\n        <app-text-shell animation=\"bouncing\" lines=\"6\" [data]=\"details?.fullDescription\"></app-text-shell>\r\n      </p>\r\n    </ion-col>\r\n  </ion-row>\r\n  <div class=\"open-hours-wrapper\">\r\n    <h3 class=\"detail-title\">When?</h3>\r\n    <ul class=\"schedules-list\">\r\n      <li class=\"open-hour-item\" *ngFor=\"let schedule of details?.openHours\">\r\n        <div class=\"schedule-outer\">\r\n          <span class=\"schedule-day\">\r\n            <app-text-shell [data]=\"schedule.day\"></app-text-shell>\r\n          </span>\r\n          <div class=\"schedule-hours\">\r\n            <ng-container *ngIf=\"schedule.open\">\r\n              <span class=\"schedule-value\">\r\n                <app-text-shell [data]=\"schedule.hourFrom\"></app-text-shell>\r\n              </span>\r\n              <span class=\"schedule-separator\">to</span>\r\n              <span class=\"schedule-value\">\r\n                <app-text-shell [data]=\"schedule.hourTo\"></app-text-shell>\r\n              </span>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"!schedule.open\">\r\n              <ion-badge class=\"schedule-closed\" color=\"medium\">closed</ion-badge>\r\n            </ng-container>\r\n          </div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n  <div class=\"location-wrapper\">\r\n    <div class=\"location-header\">\r\n      <h3 class=\"detail-title\">Where?</h3>\r\n      <span class=\"location-address\">\r\n        <app-text-shell [data]=\"details?.location?.address\"></app-text-shell>\r\n      </span>\r\n    </div>\r\n    <!-- <app-aspect-ratio [ratio]=\"{w: 64, h: 30}\">\r\n      <app-image-shell [src]=\"'https://maps.googleapis.com/maps/api/staticmap?center=' + details.location?.latlng + '&zoom=15&size=640x300&maptype=roadmap&format=png&visual_refresh=true&markers=size:mid%7Ccolor:0xd9453a%7C' + details.location?.latlng + '&key=YOUR_KEY_HERE'\">\r\n      </app-image-shell>\r\n    </app-aspect-ratio> -->\r\n    <app-aspect-ratio [ratio]=\"{w: 64, h: 30}\">\r\n      <app-image-shell class=\"location-image\" animation=\"spinner\" [src]=\"details?.location?.mapImage\"></app-image-shell>\r\n    </app-aspect-ratio>\r\n  </div>\r\n  <div class=\"suggested-places-wrapper\" *ngIf=\"details?.whereToStay && details.whereToStay.length > 0\">\r\n    <h3 class=\"detail-alt-title\">Need a place to stay?</h3>\r\n    <ion-row class=\"suggested-places-row\">\r\n      <ion-col size=\"4\" class=\"suggested-place\" *ngFor=\"let placeToStay of details?.whereToStay\">\r\n        <app-aspect-ratio [ratio]=\"{w: 18, h: 23}\">\r\n          <app-image-shell class=\"place-picture\" animation=\"spinner\" [src]=\"placeToStay.picture\"></app-image-shell>\r\n        </app-aspect-ratio>\r\n        <div class=\"place-details\">\r\n          <h5 class=\"place-name\">\r\n            <app-text-shell [data]=\"placeToStay.name\"></app-text-shell>\r\n          </h5>\r\n          <div class=\"place-rating\">\r\n            <ion-icon class=\"rating-icon\" name=\"star-outline\"></ion-icon>\r\n            <div class=\"rating-value\">\r\n              <app-text-shell [data]=\"placeToStay.rating\"></app-text-shell>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </ion-col>\r\n    </ion-row>\r\n  </div>\r\n  <div class=\"suggested-places-wrapper\" *ngIf=\"details?.whereToEat && details.whereToEat.length > 0\">\r\n    <h3 class=\"detail-alt-title\">Grab a bite?</h3>\r\n    <ion-row class=\"suggested-places-row\">\r\n      <ion-col size=\"4\" class=\"suggested-place\" *ngFor=\"let placeToEat of details?.whereToEat\">\r\n        <app-aspect-ratio [ratio]=\"{w: 18, h: 23}\">\r\n          <app-image-shell class=\"place-picture\" animation=\"spinner\" [src]=\"placeToEat.picture\"></app-image-shell>\r\n        </app-aspect-ratio>\r\n        <div class=\"place-details\">\r\n          <h5 class=\"place-name\">\r\n            <app-text-shell [data]=\"placeToEat.name\"></app-text-shell>\r\n          </h5>\r\n          <div class=\"place-rating\">\r\n            <ion-icon class=\"rating-icon\" name=\"star-outline\"></ion-icon>\r\n            <div class=\"rating-value\">\r\n              <app-text-shell [data]=\"placeToEat.rating\"></app-text-shell>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </ion-col>\r\n    </ion-row>\r\n  </div>\r\n  <div class=\"related-activities-wrapper\" *ngIf=\"details?.relatedActivities && details.relatedActivities.length > 0\">\r\n    <h3 class=\"detail-alt-title\">More activities?</h3>\r\n    <ion-row class=\"related-activity\" *ngFor=\"let relatedActivity of details?.relatedActivities\">\r\n      <ion-col size=\"12\">\r\n        <app-image-shell [display]=\"'cover'\" animation=\"spinner\" class=\"related-activity-picture\" [src]=\"relatedActivity.picture\">\r\n          <app-aspect-ratio [ratio]=\"{w:64, h:23}\">\r\n          </app-aspect-ratio>\r\n        </app-image-shell>\r\n      </ion-col>\r\n      <ion-col size=\"12\" class=\"activity-details\">\r\n        <h5 class=\"activity-name\">\r\n          <app-text-shell [data]=\"relatedActivity.name\"></app-text-shell>\r\n        </h5>\r\n        <span class=\"activity-category\">\r\n          <app-text-shell [data]=\"relatedActivity.category\"></app-text-shell>\r\n        </span>\r\n        <div class=\"activity-rating\">\r\n          <ion-icon class=\"rating-icon\" name=\"star-outline\"></ion-icon>\r\n          <div class=\"rating-value\">\r\n            <app-text-shell [data]=\"relatedActivity.rating\"></app-text-shell>\r\n          </div>\r\n        </div>\r\n      </ion-col>\r\n    </ion-row>\r\n  </div>\r\n</ion-content>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ComponentsModule } from '../../components/components.module';\r\n\r\nimport { TravelService } from '../travel.service';\r\nimport { TravelDetailsPage } from './travel-details.page';\r\nimport { TravelDetailsResolver } from './travel-details.resolver';\r\nimport { TravelDetailsPlainResolver } from './travel-details.plain.resolver';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: TravelDetailsPage,\r\n    resolve: {\r\n      data: TravelDetailsResolver\r\n      // data: TravelDetailsPlainResolver\r\n    }\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    ComponentsModule\r\n  ],\r\n  declarations: [\r\n    TravelDetailsPage\r\n  ],\r\n  providers: [\r\n    TravelDetailsResolver,\r\n    TravelDetailsPlainResolver,\r\n    TravelService\r\n  ]\r\n})\r\nexport class TravelDetailsPageModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { DataStore } from '../../shell/data-store';\r\nimport { TravelService } from '../travel.service';\r\nimport { TravelDetailsModel } from './travel-details.model';\r\nimport { map } from 'rxjs/operators';\r\nimport { SeoDataModel } from '../../utils/seo/seo-data.model';\r\n\r\n@Injectable()\r\nexport class TravelDetailsResolver implements Resolve<any> {\r\n\r\n  constructor(private travelService: TravelService) {}\r\n\r\n  resolve(): { dataStore: DataStore<TravelDetailsModel>, seo: Observable<SeoDataModel> } {\r\n\r\n    const dataSource: Observable<TravelDetailsModel> = this.travelService.getDetailsDataSource();\r\n\r\n    // Typically, SEO titles, descriptions, etc depend on the data being resolved for a specific route\r\n    const seoObservable: Observable<SeoDataModel> = dataSource.pipe(\r\n      map(data => {\r\n        const seo = new SeoDataModel();\r\n        seo.title = data.name;\r\n        seo.description = data.fullDescription;\r\n        seo.keywords = data.category;\r\n        return seo;\r\n      })\r\n    );\r\n\r\n    const dataStore: DataStore<TravelDetailsModel> = this.travelService.getDetailsStore(dataSource);\r\n\r\n    return { dataStore: dataStore, seo: seoObservable };\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Resolve } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { TravelService } from '../travel.service';\r\nimport { TravelDetailsModel } from './travel-details.model';\r\n\r\n@Injectable()\r\nexport class TravelDetailsPlainResolver implements Resolve<TravelDetailsModel> {\r\n\r\n  constructor(private travelService: TravelService) {}\r\n\r\n  resolve(): Observable<TravelDetailsModel> {\r\n    return this.travelService.getDetailsDataSource();\r\n  }\r\n}\r\n"]}