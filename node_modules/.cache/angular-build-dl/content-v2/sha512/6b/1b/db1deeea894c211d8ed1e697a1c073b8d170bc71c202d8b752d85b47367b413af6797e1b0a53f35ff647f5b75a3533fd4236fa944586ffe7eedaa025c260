{"version":3,"sources":["webpack:///src/app/maps/maps.page.ts","webpack:///src/app/maps/maps.page.html","webpack:///src/app/maps/maps.module.ts"],"names":["Geolocation","MapsPage","loadingController","mapOptions","zoom","center","lat","lng","_GoogleMap","$mapReady","subscribe","map","console","log","createLoader","create","message","loadingElement","present","dismiss","presentLoader","getCurrentPosition","then","position","current_location","google","maps","LatLng","coords","latitude","longitude","panTo","marker","Marker","title","setMap","error","dismissLoader","geolocateMe","selector","templateUrl","styleUrls","MapsPageModule","forChild","path","component","imports","declarations"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UAIQA,W,GAAgB,uD,CAAhBA,W;;UAWKC,Q;AAYX,0BAAoBC,iBAApB,EAA0D;AAAA;;AAAtC,eAAAA,iBAAA,GAAAA,iBAAA;AARpB,eAAAC,UAAA,GAAqC;AACnCC,gBAAI,EAAE,EAD6B;AAEnCC,kBAAM,EAAE;AAACC,iBAAG,EAAE,CAAC,UAAP;AAAmBC,iBAAG,EAAE,CAAC;AAAzB,aAF2B,CAGnC;AACA;;AAJmC,WAArC;AAQ6D;;;;4CAE3C;AAAA;;AAChB;AACA,iBAAKC,UAAL,CAAgBC,SAAhB,CAA0BC,SAA1B,CAAoC,UAAAC,GAAG,EAAI;AACzC,mBAAI,CAACA,GAAL,GAAWA,GAAX;AACAC,qBAAO,CAACC,GAAR,CAAY,oCAAZ;AACD,aAHD;;AAIA,iBAAKC,YAAL;AACD;;;yCAEoB;;;;;;;AACG,6BAAM,KAAKZ,iBAAL,CAAuBa,MAAvB,CAA8B;AACxDC,+BAAO,EAAE;AAD+C,uBAA9B,CAAN;;;AAAtB,2BAAKC,c;;;;;;;;;AAGN;;;0CAEqB;;;;;;;AACpB,6BAAM,KAAKA,cAAL,CAAoBC,OAApB,EAAN;;;;;;;;;AACD;;;0CAEqB;;;;;;2BAChB,KAAKD,c;;;;;;AACP,6BAAM,KAAKA,cAAL,CAAoBE,OAApB,EAAN;;;;;;;;;AAEH;;;wCAEiB;AAAA;;AAChB,iBAAKC,aAAL;AACApB,uBAAW,CAACqB,kBAAZ,GAAiCC,IAAjC,CAAsC,UAAAC,QAAQ,EAAI;AAEhD,kBAAMC,gBAAgB,GAAG,IAAIC,MAAM,CAACC,IAAP,CAAYC,MAAhB,CAAuBJ,QAAQ,CAACK,MAAT,CAAgBC,QAAvC,EAAiDN,QAAQ,CAACK,MAAT,CAAgBE,SAAjE,CAAzB;;AACA,oBAAI,CAACnB,GAAL,CAASoB,KAAT,CAAeP,gBAAf,EAHgD,CAKhD;;;AACA,kBAAMQ,MAAM,GAAG,IAAIP,MAAM,CAACC,IAAP,CAAYO,MAAhB,CAAuB;AACpCV,wBAAQ,EAAEC,gBAD0B;AAEpCU,qBAAK,EAAE;AAF6B,eAAvB,CAAf,CANgD,CAYhD;;AACAF,oBAAM,CAACG,MAAP,CAAc,MAAI,CAACxB,GAAnB;AAED,aAfD,WAeS,UAACyB,KAAD,EAAW;AAClBxB,qBAAO,CAACC,GAAR,CAAY,gCAAZ,EAA8CuB,KAA9C;AAED,aAlBD,aAkBW;AAAA,qBAAM,MAAI,CAACC,aAAL,EAAN;AAAA,aAlBX;AAmBD;;;;;;;yBA5DUpC,Q,EAAQ,iI;AAAA,O;;;cAARA,Q;AAAQ,iC;AAAA;AAAA;sEAER,8F,EAAoB,I;;;;;;;;;;;;;;ACjBjC;;AACE;;AACE;;AACE;;AACF;;AACA;;AAAW;;AAAkB;;AAC/B;;AACF;;AAEA;;AACE;;AACE;;AAAgB;AAAA,qBAAS,IAAAqC,WAAA,EAAT;AAAsB,aAAtB;;AACd;;AACF;;AACF;;AACA;;AACF;;;;AADc;;AAAA;;;;;;;;;wEDADrC,Q,EAAQ;gBAPpB,uDAOoB;iBAPV;AACTsC,oBAAQ,EAAE,UADD;AAETC,uBAAW,EAAE,kBAFJ;AAGTC,qBAAS,EAAE,CACT,yBADS;AAHF,W;AAOU,U;;;;;AAE+BjC,oBAAU,EAAE,CAAF;kBAA3D,uDAA2D;mBAAjD,8F,EAAoB;AAAE,wBAAQ;AAAV,a;AAA6B,WAAE;;;;;;;;;;;;;;;;;;;AEjBhE;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAiBakC,c;;;;;cAAAA;;;;2BAAAA,c;AAAc,S;AAAA,kBARhB,CACP,0DADO,EAEP,4DAFO,EAGP,8EAHO,EAIP,6DAAaC,QAAb,CAAsB,CAAC;AAAEC,cAAI,EAAE,EAAR;AAAYC,mBAAS,EAAE;AAAvB,SAAD,CAAtB,CAJO,CAQgB;;;;4HAAdH,c,EAAc;AAAA,yBAFV,mDAEU;AAFF,oBALrB,0DAKqB,EAJrB,4DAIqB,EAHrB,8EAGqB,EAHL,4DAGK;AAEE,S;AALP,O;;;;;wEAKPA,c,EAAc;gBAT1B,sDAS0B;iBATjB;AACRI,mBAAO,EAAE,CACP,0DADO,EAEP,4DAFO,EAGP,8EAHO,EAIP,6DAAaH,QAAb,CAAsB,CAAC;AAAEC,kBAAI,EAAE,EAAR;AAAYC,uBAAS,EAAE;AAAvB,aAAD,CAAtB,CAJO,CADD;AAORE,wBAAY,EAAE,CAAC,mDAAD;AAPN,W;AASiB,U","file":"maps-maps-module-es5.js","sourcesContent":["import { Component, ViewChild, AfterViewInit } from '@angular/core';\r\nimport { LoadingController } from '@ionic/angular';\r\n\r\nimport { Plugins } from '@capacitor/core';\r\nconst { Geolocation } = Plugins;\r\n\r\nimport { GoogleMapComponent } from '../components/google-map/google-map.component';\r\n\r\n@Component({\r\n  selector: 'app-maps',\r\n  templateUrl: './maps.page.html',\r\n  styleUrls: [\r\n    './styles/maps.page.scss'\r\n  ]\r\n})\r\nexport class MapsPage implements AfterViewInit {\r\n\r\n  @ViewChild(GoogleMapComponent, { static: false }) _GoogleMap: GoogleMapComponent;\r\n  map: google.maps.Map;\r\n  mapOptions: google.maps.MapOptions = {\r\n    zoom: 15,\r\n    center: {lat: -34.9199842, lng: -56.149849}\r\n    // uncomment the following line if you want to remove the default Map controls\r\n    // disableDefaultUI: true\r\n  };\r\n  loadingElement: any;\r\n\r\n  constructor(private loadingController: LoadingController) { }\r\n\r\n  ngAfterViewInit() {\r\n    // GoogleMapComponent should be available\r\n    this._GoogleMap.$mapReady.subscribe(map => {\r\n      this.map = map;\r\n      console.log('ngAfterViewInit - Google map ready');\r\n    });\r\n    this.createLoader();\r\n  }\r\n\r\n  async createLoader() {\r\n    this.loadingElement = await this.loadingController.create({\r\n      message: 'Trying to get your current location...'\r\n    });\r\n  }\r\n\r\n  async presentLoader() {\r\n    await this.loadingElement.present();\r\n  }\r\n\r\n  async dismissLoader() {\r\n    if (this.loadingElement) {\r\n      await this.loadingElement.dismiss();\r\n    }\r\n  }\r\n\r\n  public geolocateMe(): void {\r\n    this.presentLoader();\r\n    Geolocation.getCurrentPosition().then(position => {\r\n\r\n      const current_location = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\r\n      this.map.panTo(current_location);\r\n\r\n      // add a marker\r\n      const marker = new google.maps.Marker({\r\n        position: current_location,\r\n        title: 'You are here!',\r\n        // animation: google.maps.Animation.DROP\r\n      });\r\n\r\n      // To add the marker to the map, call setMap();\r\n      marker.setMap(this.map);\r\n\r\n    }).catch((error) => {\r\n      console.log('Error getting current location', error);\r\n\r\n    }).finally(() => this.dismissLoader());\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar color=\"primary\">\r\n    <ion-buttons slot=\"start\">\r\n      <ion-menu-button></ion-menu-button>\r\n    </ion-buttons>\r\n    <ion-title>Maps & Geolocation</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content>\r\n  <ion-fab vertical=\"top\" horizontal=\"end\" slot=\"fixed\">\r\n    <ion-fab-button (click)=\"geolocateMe()\" color=\"secondary\">\r\n      <ion-icon name=\"locate\"></ion-icon>\r\n    </ion-fab-button>\r\n  </ion-fab>\r\n  <google-map [mapOptions]=\"mapOptions\"></google-map>\r\n</ion-content>\r\n","import { IonicModule } from '@ionic/angular';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { MapsPage } from './maps.page';\r\nimport { ComponentsModule } from '../components/components.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    IonicModule,\r\n    CommonModule,\r\n    ComponentsModule,\r\n    RouterModule.forChild([{ path: '', component: MapsPage }])\r\n  ],\r\n  declarations: [MapsPage]\r\n})\r\nexport class MapsPageModule {}\r\n"]}